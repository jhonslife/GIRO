
 RUN  v2.1.9 /home/jhonslife/CICLOGIRO/GIRO/apps/desktop

stdout | src/__tests__/AuditFlows.test.tsx > Audit: Critical Flows Integration > Flow: Full Cash Control Cycle
[Tauri] Invoking get_current_cash_session undefined
[MOCK INVOKE] get_current_cash_session 
[Invoke Result] get_current_cash_session: null

stderr | src/__tests__/AuditFlows.test.tsx > Audit: Critical Flows Integration > Flow: Full Cash Control Cycle
TypeError: __vite_ssr_import_1__.useAuthStore.getState is not a function
    at toAuthCashSession (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/hooks/usePDV.ts:64:44)
    at Object.onSuccess (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/hooks/usePDV.ts:99:26)
    at Mutation.execute (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@tanstack+query-core@5.90.17/node_modules/@tanstack/query-core/src/mutation.ts:244:26)
    at runNextTicks (node:internal/process/task_queues:60:5)
    at listOnTimeout (node:internal/timers:545:9)
    at processTimers (node:internal/timers:519:7)
    at handleOpenSession (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/cash/CashControlPage.tsx:123:7)

stdout | src/__tests__/AuditFlows.test.tsx > Audit: Critical Flows Integration > Flow: Full Cash Control Cycle
DEBUG: handleOpenSession called 100.00
[Tauri] Invoking open_cash_session { input: { openingBalance: 100, employeeId: 'admin-1' } }
[MOCK INVOKE] open_cash_session {"input":{"openingBalance":100,"employeeId":"admin-1"}}
[Invoke Result] open_cash_session: {
  id: 'sess-1768787912686',
  status: 'OPEN',
  openingBalance: 100,
  openedAt: '2026-01-19T01:58:32.686Z',
  current_balance: 100
}

 ‚ùØ src/__tests__/AuditFlows.test.tsx (1 test | 1 failed) 3128ms
   √ó Audit: Critical Flows Integration > Flow: Full Cash Control Cycle 3127ms
     ‚Üí Unable to find an element by: [data-testid="cash-balance"]

Ignored nodes: comments, script, style
[36m<body[39m
  [33mdata-scroll-locked[39m=[32m"1"[39m
  [33mstyle[39m=[32m"pointer-events: none;"[39m
[36m>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col gap-4"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex items-center justify-between"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold tracking-tight"[39m
          [36m>[39m
            [0mControle de Caixa[0m
          [36m</h1>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-muted-foreground"[39m
          [36m>[39m
            [0mNenhum caixa aberto[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
            [33mdata-testid[39m=[32m"open-cash"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"icon-dollar"[39m
            [36m/>[39m
            [0mAbrir Caixa[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm border-yellow-500 bg-yellow-50/50"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 flex items-center gap-4 py-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"icon-alert"[39m
          [36m/>[39m
          [36m<div>[39m
            [36m<p[39m
              [33mclass[39m=[32m"font-semibold text-yellow-800"[39m
            [36m>[39m
              [0mCaixa Fechado[0m
            [36m</p>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-yellow-600"[39m
            [36m>[39m
              [0mAbra o caixa para iniciar as opera√ß√µes[0m
            [36m</p>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-describedby[39m=[32m"radix-:r2:"[39m
    [33maria-labelledby[39m=[32m"radix-:r1:"[39m
    [33mclass[39m=[32m"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mid[39m=[32m"radix-:r0:"[39m
    [33mrole[39m=[32m"dialog"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
    [33mtabindex[39m=[32m"-1"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col space-y-1.5 text-center sm:text-left"[39m
    [36m>[39m
      [36m<h2[39m
        [33mclass[39m=[32m"text-lg font-semibold leading-none tracking-tight"[39m
        [33mid[39m=[32m"radix-:r1:"[39m
      [36m>[39m
        [0mAbrir Caixa[0m
      [36m</h2>[39m
      [36m<p[39m
        [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
        [33mid[39m=[32m"radix-:r2:"[39m
      [36m>[39m
        [0mInforme o valor inicial em dinheiro no caixa[0m
      [36m</p>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"py-4"[39m
    [36m>[39m
      [36m<label[39m
        [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
        [33mfor[39m=[32m"openingBalance"[39m
      [36m>[39m
        [0mValor de Abertura (R$)[0m
      [36m</label>[39m
      [36m<input[39m
        [33mclass[39m=[32m"flex w-full rounded-md border border-input bg-background px-3 py-2 ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-2xl h-14 text-center"[39m
        [33mdata-testid[39m=[32m"opening-balance-input"[39m
        [33mid[39m=[32m"openingBalance"[39m
        [33minputmode[39m=[32m"decimal"[39m
        [33mplaceholder[39m=[32m"0,00"[39m
        [33mtype[39m=[32m"text"[39m
        [33mvalue[39m=[32m"100.00"[39m
      [36m/>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2"[39m
    [36m>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"[39m
      [36m>[39m
        [0mCancelar[0m
      [36m</button>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
      [36m>[39m
        [0mAbrir Caixa[0m
      [36m</button>[39m
    [36m</div>[39m
    [36m<button[39m
      [33mclass[39m=[32m"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"[39m
      [33mtype[39m=[32m"button"[39m
    [36m>[39m
      [36m<div[39m
        [33mdata-testid[39m=[32m"icon-close"[39m
      [36m/>[39m
      [36m<span[39m
        [33mclass[39m=[32m"sr-only"[39m
      [36m>[39m
        [0mFechar[0m
      [36m</span>[39m
    [36m</button>[39m
  [36m</div>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<body[39m
  [33mdata-scroll-locked[39m=[32m"1"[39m
  [33mstyle[39m=[32m"pointer-events: none;"[39m
[36m>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col gap-4"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex items-center justify-between"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold tracking-tight"[39m
          [36m>[39m
            [0mControle de Caixa[0m
          [36m</h1>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-muted-foreground"[39m
          [36m>[39m
            [0mNenhum caixa aberto[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
            [33mdata-testid[39m=[32m"open-cash"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"icon-dollar"[39m
            [36m/>[39m
            [0mAbrir Caixa[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm border-yellow-500 bg-yellow-50/50"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 flex items-center gap-4 py-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"icon-alert"[39m
          [36m/>[39m
          [36m<div>[39m
            [36m<p[39m
              [33mclass[39m=[32m"font-semibold text-yellow-800"[39m
            [36m>[39m
              [0mCaixa Fechado[0m
            [36m</p>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-yellow-600"[39m
            [36m>[39m
              [0mAbra o caixa para iniciar as opera√ß√µes[0m
            [36m</p>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-describedby[39m=[32m"radix-:r2:"[39m
    [33maria-labelledby[39m=[32m"radix-:r1:"[39m
    [33mclass[39m=[32m"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mid[39m=[32m"radix-:r0:"[39m
    [33mrole[39m=[32m"dialog"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
    [33mtabindex[39m=[32m"-1"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col space-y-1.5 text-center sm:text-left"[39m
    [36m>[39m
      [36m<h2[39m
        [33mclass[39m=[32m"text-lg font-semibold leading-none tracking-tight"[39m
        [33mid[39m=[32m"radix-:r1:"[39m
      [36m>[39m
        [0mAbrir Caixa[0m
      [36m</h2>[39m
      [36m<p[39m
        [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
        [33mid[39m=[32m"radix-:r2:"[39m
      [36m>[39m
        [0mInforme o valor inicial em dinheiro no caixa[0m
      [36m</p>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"py-4"[39m
    [36m>[39m
      [36m<label[39m
        [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
        [33mfor[39m=[32m"openingBalance"[39m
      [36m>[39m
        [0mValor de Abertura (R$)[0m
      [36m</label>[39m
      [36m<input[39m
        [33mclass[39m=[32m"flex w-full rounded-md border border-input bg-background px-3 py-2 ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-2xl h-14 text-center"[39m
        [33mdata-testid[39m=[32m"opening-balance-input"[39m
        [33mid[39m=[32m"openingBalance"[39m
        [33minputmode[39m=[32m"decimal"[39m
        [33mplaceholder[39m=[32m"0,00"[39m
        [33mtype[39m=[32m"text"[39m
        [33mvalue[39m=[32m"100.00"[39m
      [36m/>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2"[39m
    [36m>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"[39m
      [36m>[39m
        [0mCancelar[0m
      [36m</button>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
      [36m>[39m
        [0mAbrir Caixa[0m
      [36m</button>[39m
    [36m</div>[39m
    [36m<button[39m
      [33mclass[39m=[32m"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"[39m
      [33mtype[39m=[32m"button"[39m
    [36m>[39m
      [36m<div[39m
        [33mdata-testid[39m=[32m"icon-close"[39m
      [36m/>[39m
      [36m<span[39m
        [33mclass[39m=[32m"sr-only"[39m
      [36m>[39m
        [0mFechar[0m
      [36m</span>[39m
    [36m</button>[39m
  [36m</div>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
[36m</body>[39m

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Tests 1 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  src/__tests__/AuditFlows.test.tsx > Audit: Critical Flows Integration > Flow: Full Cash Control Cycle
TestingLibraryElementError: Unable to find an element by: [data-testid="cash-balance"]

Ignored nodes: comments, script, style
[36m<body[39m
  [33mdata-scroll-locked[39m=[32m"1"[39m
  [33mstyle[39m=[32m"pointer-events: none;"[39m
[36m>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col gap-4"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex items-center justify-between"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold tracking-tight"[39m
          [36m>[39m
            [0mControle de Caixa[0m
          [36m</h1>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-muted-foreground"[39m
          [36m>[39m
            [0mNenhum caixa aberto[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
            [33mdata-testid[39m=[32m"open-cash"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"icon-dollar"[39m
            [36m/>[39m
            [0mAbrir Caixa[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm border-yellow-500 bg-yellow-50/50"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 flex items-center gap-4 py-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"icon-alert"[39m
          [36m/>[39m
          [36m<div>[39m
            [36m<p[39m
              [33mclass[39m=[32m"font-semibold text-yellow-800"[39m
            [36m>[39m
              [0mCaixa Fechado[0m
            [36m</p>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-yellow-600"[39m
            [36m>[39m
              [0mAbra o caixa para iniciar as opera√ß√µes[0m
            [36m</p>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-describedby[39m=[32m"radix-:r2:"[39m
    [33maria-labelledby[39m=[32m"radix-:r1:"[39m
    [33mclass[39m=[32m"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mid[39m=[32m"radix-:r0:"[39m
    [33mrole[39m=[32m"dialog"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
    [33mtabindex[39m=[32m"-1"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col space-y-1.5 text-center sm:text-left"[39m
    [36m>[39m
      [36m<h2[39m
        [33mclass[39m=[32m"text-lg font-semibold leading-none tracking-tight"[39m
        [33mid[39m=[32m"radix-:r1:"[39m
      [36m>[39m
        [0mAbrir Caixa[0m
      [36m</h2>[39m
      [36m<p[39m
        [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
        [33mid[39m=[32m"radix-:r2:"[39m
      [36m>[39m
        [0mInforme o valor inicial em dinheiro no caixa[0m
      [36m</p>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"py-4"[39m
    [36m>[39m
      [36m<label[39m
        [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
        [33mfor[39m=[32m"openingBalance"[39m
      [36m>[39m
        [0mValor de Abertura (R$)[0m
      [36m</label>[39m
      [36m<input[39m
        [33mclass[39m=[32m"flex w-full rounded-md border border-input bg-background px-3 py-2 ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-2xl h-14 text-center"[39m
        [33mdata-testid[39m=[32m"opening-balance-input"[39m
        [33mid[39m=[32m"openingBalance"[39m
        [33minputmode[39m=[32m"decimal"[39m
        [33mplaceholder[39m=[32m"0,00"[39m
        [33mtype[39m=[32m"text"[39m
        [33mvalue[39m=[32m"100.00"[39m
      [36m/>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2"[39m
    [36m>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"[39m
      [36m>[39m
        [0mCancelar[0m
      [36m</button>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
      [36m>[39m
        [0mAbrir Caixa[0m
      [36m</button>[39m
    [36m</div>[39m
    [36m<button[39m
      [33mclass[39m=[32m"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"[39m
      [33mtype[39m=[32m"button"[39m
    [36m>[39m
      [36m<div[39m
        [33mdata-testid[39m=[32m"icon-close"[39m
      [36m/>[39m
      [36m<span[39m
        [33mclass[39m=[32m"sr-only"[39m
      [36m>[39m
        [0mFechar[0m
      [36m</span>[39m
    [36m</button>[39m
  [36m</div>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<body[39m
  [33mdata-scroll-locked[39m=[32m"1"[39m
  [33mstyle[39m=[32m"pointer-events: none;"[39m
[36m>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col gap-4"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex items-center justify-between"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold tracking-tight"[39m
          [36m>[39m
            [0mControle de Caixa[0m
          [36m</h1>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-muted-foreground"[39m
          [36m>[39m
            [0mNenhum caixa aberto[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
            [33mdata-testid[39m=[32m"open-cash"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"icon-dollar"[39m
            [36m/>[39m
            [0mAbrir Caixa[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm border-yellow-500 bg-yellow-50/50"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 flex items-center gap-4 py-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"icon-alert"[39m
          [36m/>[39m
          [36m<div>[39m
            [36m<p[39m
              [33mclass[39m=[32m"font-semibold text-yellow-800"[39m
            [36m>[39m
              [0mCaixa Fechado[0m
            [36m</p>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-yellow-600"[39m
            [36m>[39m
              [0mAbra o caixa para iniciar as opera√ß√µes[0m
            [36m</p>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-describedby[39m=[32m"radix-:r2:"[39m
    [33maria-labelledby[39m=[32m"radix-:r1:"[39m
    [33mclass[39m=[32m"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mid[39m=[32m"radix-:r0:"[39m
    [33mrole[39m=[32m"dialog"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
    [33mtabindex[39m=[32m"-1"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col space-y-1.5 text-center sm:text-left"[39m
    [36m>[39m
      [36m<h2[39m
        [33mclass[39m=[32m"text-lg font-semibold leading-none tracking-tight"[39m
        [33mid[39m=[32m"radix-:r1:"[39m
      [36m>[39m
        [0mAbrir Caixa[0m
      [36m</h2>[39m
      [36m<p[39m
        [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
        [33mid[39m=[32m"radix-:r2:"[39m
      [36m>[39m
        [0mInforme o valor inicial em dinheiro no caixa[0m
      [36m</p>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"py-4"[39m
    [36m>[39m
      [36m<label[39m
        [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
        [33mfor[39m=[32m"openingBalance"[39m
      [36m>[39m
        [0mValor de Abertura (R$)[0m
      [36m</label>[39m
      [36m<input[39m
        [33mclass[39m=[32m"flex w-full rounded-md border border-input bg-background px-3 py-2 ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-2xl h-14 text-center"[39m
        [33mdata-testid[39m=[32m"opening-balance-input"[39m
        [33mid[39m=[32m"openingBalance"[39m
        [33minputmode[39m=[32m"decimal"[39m
        [33mplaceholder[39m=[32m"0,00"[39m
        [33mtype[39m=[32m"text"[39m
        [33mvalue[39m=[32m"100.00"[39m
      [36m/>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2"[39m
    [36m>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"[39m
      [36m>[39m
        [0mCancelar[0m
      [36m</button>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
      [36m>[39m
        [0mAbrir Caixa[0m
      [36m</button>[39m
    [36m</div>[39m
    [36m<button[39m
      [33mclass[39m=[32m"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"[39m
      [33mtype[39m=[32m"button"[39m
    [36m>[39m
      [36m<div[39m
        [33mdata-testid[39m=[32m"icon-close"[39m
      [36m/>[39m
      [36m<span[39m
        [33mclass[39m=[32m"sr-only"[39m
      [36m>[39m
        [0mFechar[0m
      [36m</span>[39m
    [36m</button>[39m
  [36m</div>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
[36m</body>[39m
 ‚ùØ waitForWrapper node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:163:27
 ‚ùØ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:86:33
 ‚ùØ src/__tests__/AuditFlows.test.tsx:171:41
    169|     fireEvent.click(confirmBtn);
    170| 
    171|     const balanceDisplay = await screen.findByTestId(
       |                                         ^
    172|       "cash-balance",
    173|       {},

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/1]‚éØ

 Test Files  1 failed (1)
      Tests  1 failed (1)
   Start at  21:58:31
   Duration  4.30s (transform 151ms, setup 60ms, collect 485ms, tests 3.13s, environment 287ms, prepare 199ms)

