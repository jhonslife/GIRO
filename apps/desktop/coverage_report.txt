
 RUN  v2.1.9 /home/jhonslife/CICLOGIRO/GIRO/apps/desktop
      Coverage enabled with v8

 ✓ tests/unit/utils/formatters.test.ts (51 tests) 29ms
 ✓ src/lib/__tests__/formatters.test.ts (48 tests) 32ms
 ✓ src/stores/__tests__/pdv-store.test.ts (24 tests) 16ms
 ✓ src/stores/__tests__/settings-store.test.ts (28 tests) 36ms
stderr | src/components/motoparts/__tests__/ServiceOrderForm.test.tsx > ServiceOrderForm > should show toast on submission error
Erro ao criar ordem de serviço: Error: API Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/components/motoparts/__tests__/ServiceOrderForm.test.tsx:248:43
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11

 ✓ src/stores/__tests__/alert-store.test.ts (14 tests) 9ms
 ✓ src/components/motoparts/__tests__/ServiceOrderForm.test.tsx (5 tests) 509ms
 ❯ src/hooks/__tests__/useSales.test.tsx (15 tests | 1 failed) 697ms
   × Cash Session Hooks > useCloseCashSession should close a session 13ms
     → cashSessionKeys.history is not a function
stdout | src/pages/cash/__tests__/CashControlPage.test.tsx > CashControlPage > should handle opening a cash session
DEBUG: handleOpenSession called 100
DEBUG: mutateAsync completed

stdout | src/pages/cash/__tests__/CashControlPage.test.tsx > CashControlPage > should handle session opening failure
DEBUG: handleOpenSession called 100

stderr | src/pages/cash/__tests__/CashControlPage.test.tsx > CashControlPage > should handle session opening failure
Error: Open Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/cash/__tests__/CashControlPage.test.tsx:117:7
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runNextTicks (node:internal/process/task_queues:60:5)
    at listOnTimeout (node:internal/timers:545:9)
    at processTimers (node:internal/timers:519:7)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)

stdout | src/__tests__/AuditFlows.test.tsx > Audit: Critical Flows Integration > Flow: Full Cash Control Cycle
[Tauri] Invoking get_current_cash_session undefined
[MOCK INVOKE] get_current_cash_session 
[Invoke Result] get_current_cash_session: null

stdout | src/__tests__/AuditFlows.test.tsx > Audit: Critical Flows Integration > Flow: Full Cash Control Cycle
DEBUG: handleOpenSession called 100.00
[Tauri] Invoking open_cash_session { input: { openingBalance: 100, employeeId: 'admin-1' } }
[MOCK INVOKE] open_cash_session {"input":{"openingBalance":100,"employeeId":"admin-1"}}
[Invoke Result] open_cash_session: {
  id: 'sess-1768789175615',
  status: 'OPEN',
  openingBalance: 100,
  openedAt: '2026-01-19T02:19:35.615Z',
  current_balance: 100
}
[Tauri] Invoking get_current_cash_session undefined
[MOCK INVOKE] get_current_cash_session 
[Invoke Result] get_current_cash_session: {
  id: 'sess-1768789175615',
  status: 'OPEN',
  openingBalance: 100,
  openedAt: '2026-01-19T02:19:35.615Z',
  current_balance: 100
}
DEBUG: mutateAsync completed
[Tauri] Invoking get_session_movements { sessionId: 'sess-1768789175615' }
[MOCK INVOKE] get_session_movements {"sessionId":"sess-1768789175615"}
[Tauri] Invoking get_cash_session_summary { sessionId: 'sess-1768789175615' }
[MOCK INVOKE] get_cash_session_summary {"sessionId":"sess-1768789175615"}
DEBUG: Computing summary. Movements count: 0
[Invoke Result] get_session_movements: []
[Invoke Result] get_cash_session_summary: {
  session: {
    id: 'sess-1768789175615',
    status: 'OPEN',
    openingBalance: 100,
    openedAt: '2026-01-19T02:19:35.615Z',
    current_balance: 100
  },
  totalSales: 0,
  totalSupplies: 0,
  totalWithdrawals: 0,
  cashInDrawer: 100,
  movements: [],
  salesByMethod: []
}

stderr | src/pages/cash/__tests__/CashControlPage.test.tsx > CashControlPage > should handle adding a cash movement (Suprimento)
Error: [vitest] No "addCashMovement" export is defined on the "@/lib/tauri" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at Object.mutationFn (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/hooks/useSales.ts:235:47)
    at Object.fn (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@tanstack+query-core@5.90.17/node_modules/@tanstack/query-core/src/mutation.ts:190:29)
    at run (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@tanstack+query-core@5.90.17/node_modules/@tanstack/query-core/src/retryer.ts:155:49)
    at Object.start (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@tanstack+query-core@5.90.17/node_modules/@tanstack/query-core/src/retryer.ts:221:9)
    at Mutation.execute (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@tanstack+query-core@5.90.17/node_modules/@tanstack/query-core/src/mutation.ts:233:40)
    at addMovement (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/cash/CashControlPage.tsx:83:7) {
  codeFrame: 'vi.mock(import("@/lib/tauri"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}

stdout | src/__tests__/AuditFlows.test.tsx > Audit: Critical Flows Integration > Flow: Full Cash Control Cycle
[Tauri] Invoking add_cash_movement {
  input: {
    sessionId: 'sess-1768789175615',
    movementType: 'SUPPLY',
    amount: 50,
    description: 'Audit Supply'
  }
}
[MOCK INVOKE] add_cash_movement {"input":{"sessionId":"sess-1768789175615","movementType":"SUPPLY","amount":50,"description":"Audit Supply"}}
DEBUG: Added movement. New size: 1
[Invoke Result] add_cash_movement: null
[Tauri] Invoking get_current_cash_session undefined
[MOCK INVOKE] get_current_cash_session 
[Tauri] Invoking get_cash_session_summary { sessionId: 'sess-1768789175615' }
[MOCK INVOKE] get_cash_session_summary {"sessionId":"sess-1768789175615"}
DEBUG: Computing summary. Movements count: 1
[Tauri] Invoking get_session_movements { sessionId: 'sess-1768789175615' }
[MOCK INVOKE] get_session_movements {"sessionId":"sess-1768789175615"}
[Invoke Result] get_current_cash_session: {
  id: 'sess-1768789175615',
  status: 'OPEN',
  openingBalance: 100,
  openedAt: '2026-01-19T02:19:35.615Z',
  current_balance: 100
}
[Invoke Result] get_cash_session_summary: {
  session: {
    id: 'sess-1768789175615',
    status: 'OPEN',
    openingBalance: 100,
    openedAt: '2026-01-19T02:19:35.615Z',
    current_balance: 100
  },
  totalSales: 0,
  totalSupplies: 50,
  totalWithdrawals: 0,
  cashInDrawer: 150,
  movements: [
    {
      id: 'mov-1768789175719',
      sessionId: 'sess-1768789175615',
      type: 'DEPOSIT',
      amount: 50,
      description: 'Audit Supply',
      createdAt: '2026-01-19T02:19:35.719Z'
    }
  ],
  salesByMethod: []
}
[Invoke Result] get_session_movements: [
  {
    id: 'mov-1768789175719',
    sessionId: 'sess-1768789175615',
    type: 'DEPOSIT',
    amount: 50,
    description: 'Audit Supply',
    createdAt: '2026-01-19T02:19:35.719Z'
  }
]

stdout | src/__tests__/AuditFlows.test.tsx > Audit: Critical Flows Integration > Flow: Full Cash Control Cycle
[Tauri] Invoking add_cash_movement {
  input: {
    sessionId: 'sess-1768789175615',
    movementType: 'BLEED',
    amount: 30,
    description: 'Audit Bleed'
  }
}
[MOCK INVOKE] add_cash_movement {"input":{"sessionId":"sess-1768789175615","movementType":"BLEED","amount":30,"description":"Audit Bleed"}}
DEBUG: Added movement. New size: 2
[Invoke Result] add_cash_movement: null
[Tauri] Invoking get_current_cash_session undefined
[MOCK INVOKE] get_current_cash_session 
[Tauri] Invoking get_cash_session_summary { sessionId: 'sess-1768789175615' }
[MOCK INVOKE] get_cash_session_summary {"sessionId":"sess-1768789175615"}
DEBUG: Computing summary. Movements count: 2
[Tauri] Invoking get_session_movements { sessionId: 'sess-1768789175615' }
[MOCK INVOKE] get_session_movements {"sessionId":"sess-1768789175615"}
[Invoke Result] get_current_cash_session: {
  id: 'sess-1768789175615',
  status: 'OPEN',
  openingBalance: 100,
  openedAt: '2026-01-19T02:19:35.615Z',
  current_balance: 100
}
[Invoke Result] get_cash_session_summary: {
  session: {
    id: 'sess-1768789175615',
    status: 'OPEN',
    openingBalance: 100,
    openedAt: '2026-01-19T02:19:35.615Z',
    current_balance: 100
  },
  totalSales: 0,
  totalSupplies: 50,
  totalWithdrawals: 30,
  cashInDrawer: 120,
  movements: [
    {
      id: 'mov-1768789175719',
      sessionId: 'sess-1768789175615',
      type: 'DEPOSIT',
      amount: 50,
      description: 'Audit Supply',
      createdAt: '2026-01-19T02:19:35.719Z'
    },
    {
      id: 'mov-1768789175817',
      sessionId: 'sess-1768789175615',
      type: 'WITHDRAWAL',
      amount: 30,
      description: 'Audit Bleed',
      createdAt: '2026-01-19T02:19:35.817Z'
    }
  ],
  salesByMethod: []
}
[Invoke Result] get_session_movements: [
  {
    id: 'mov-1768789175719',
    sessionId: 'sess-1768789175615',
    type: 'DEPOSIT',
    amount: 50,
    description: 'Audit Supply',
    createdAt: '2026-01-19T02:19:35.719Z'
  },
  {
    id: 'mov-1768789175817',
    sessionId: 'sess-1768789175615',
    type: 'WITHDRAWAL',
    amount: 30,
    description: 'Audit Bleed',
    createdAt: '2026-01-19T02:19:35.817Z'
  }
]

stdout | src/__tests__/AuditFlows.test.tsx > Audit: Critical Flows Integration > UX: Product Form should have autoComplete='off'
[Tauri] Invoking get_categories undefined
[MOCK INVOKE] get_categories 
[Invoke Result] get_categories: []

 ✓ src/hooks/__tests__/useDashboard.test.tsx (7 tests) 437ms
 ✓ src/__tests__/AuditFlows.test.tsx (2 tests) 638ms
   ✓ Audit: Critical Flows Integration > Flow: Full Cash Control Cycle 538ms
 ✓ src/hooks/__tests__/usePDV.test.tsx (10 tests) 489ms
stderr | src/pages/products/__tests__/CategoriesPage.test.tsx > CategoriesPage > Error States > should handle creation failure
Erro ao criar categoria: Error: Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/products/__tests__/CategoriesPage.test.tsx:250:52
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)

stderr | src/pages/products/__tests__/CategoriesPage.test.tsx > CategoriesPage > Error States > should handle deactivation failure
Erro ao processar ação na categoria: Error: Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/products/__tests__/CategoriesPage.test.tsx:268:52
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)

stderr | src/pages/products/__tests__/CategoriesPage.test.tsx > CategoriesPage > Error States > should handle reactivation failure
Erro ao processar ação na categoria: Error: Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/products/__tests__/CategoriesPage.test.tsx:285:52
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)

 ✓ src/pages/products/__tests__/CategoriesPage.test.tsx (13 tests) 1637ms
   ✓ CategoriesPage > should create a new category 503ms
 ✓ src/pages/pdv/__tests__/PDVPage.test.tsx (12 tests) 1666ms
   ✓ PDVPage > should handle F shortcuts 308ms
   ✓ PDVPage > should handle invalid quantity/discount inputs 402ms
 ✓ src/hooks/__tests__/useSuppliers.test.tsx (10 tests) 283ms
 ✓ src/hooks/__tests__/useCategories.test.tsx (12 tests) 585ms
stderr | src/components/motoparts/__tests__/ProductCompatibilityEditor.test.tsx > ProductCompatibilityEditor > should handle removal confirmation
Warning: Missing `Description` or `aria-describedby={undefined}` for {AlertDialogContent}.

 ✓ src/components/motoparts/__tests__/ProductCompatibilityEditor.test.tsx (11 tests) 590ms
   ✓ ProductCompatibilityEditor > should handle removal confirmation 308ms
 ✓ src/hooks/__tests__/useStock.test.tsx (9 tests) 486ms
 ✓ src/pages/suppliers/__tests__/SuppliersPage.test.tsx (7 tests) 1909ms
   ✓ SuppliersPage > should create a new supplier 572ms
   ✓ SuppliersPage > should show validation errors for invalid inputs 322ms
   ✓ SuppliersPage > should filter by search text (name, tradeName, cnpj) 493ms
 ✓ src/hooks/__tests__/useCustomers.test.ts (11 tests) 514ms
   ✓ useCustomers hooks > useCustomerSearch > should perform debounced search 313ms
stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > isTauriRuntime > should return true when window.__TAURI__ is defined
[Tauri] Invoking get_products { filter: undefined }
[Invoke Result] get_products: []

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > isTauriRuntime > should return false when window.__TAURI__ is undefined
[WebMock] Invoking get_products (MOCK MODE ACTIVE) { filter: undefined }

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > tauriInvoke (Tauri path) > should call tauriCoreInvoke when in Tauri runtime
[Tauri] Invoking get_products { filter: undefined }
[Invoke Result] get_products: [ { id: '1', name: 'Product 1' } ]

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should authenticate employee correctly
[Invoke Result] authenticate_employee: null

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should authenticate employee correctly
[WebMock] Invoking authenticate_employee (MOCK MODE ACTIVE) { pin: '8899' }

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should return null for invalid pin
[Invoke Result] authenticate_employee: null

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should return null for invalid pin
[WebMock] Invoking authenticate_employee (MOCK MODE ACTIVE) { pin: 'wrong' }

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should check if admin exists
[Invoke Result] has_admin: false

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should check if admin exists
[WebMock] Invoking has_admin (MOCK MODE ACTIVE) undefined

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should get current cash session (null initially)
[Invoke Result] get_current_cash_session: null

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should get current cash session (null initially)
[WebMock] Invoking get_current_cash_session (MOCK MODE ACTIVE) undefined

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should open and close a cash session
[Invoke Result] get_employees: []

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should open and close a cash session
[WebMock] Invoking get_employees (MOCK MODE ACTIVE) undefined

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should add cash movements and get summary
[Invoke Result] get_employees: []

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should add cash movements and get summary
[WebMock] Invoking get_employees (MOCK MODE ACTIVE) undefined

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should throw error for unsupported command in mock
[WebMock] Invoking get_products (MOCK MODE ACTIVE) { filter: undefined }

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should throw error if opening session when one is already open
[Invoke Result] get_employees: []

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should throw error if opening session when one is already open
[WebMock] Invoking get_employees (MOCK MODE ACTIVE) undefined

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > All other wrappers > should call tauriInvoke for various commands
[Tauri] Invoking get_products { filter: {} }
[Invoke Result] get_products: {}
[Tauri] Invoking get_product_by_id { id: '1' }
[Invoke Result] get_product_by_id: {}
[Tauri] Invoking search_products { query: 'test' }
[Invoke Result] search_products: {}
[Tauri] Invoking get_categories undefined
[Invoke Result] get_categories: {}
[Tauri] Invoking get_sales { filter: undefined }
[Invoke Result] get_sales: {}
[Tauri] Invoking get_alerts { limit: 100 }
[Invoke Result] get_alerts: {}
[Tauri] Invoking get_all_settings undefined
[Invoke Result] get_all_settings: {}
[Tauri] Invoking print_receipt { saleId: 'sale-1' }
[Invoke Result] print_receipt: {}

 ❯ src/lib/__tests__/tauri.test.ts (12 tests | 5 failed) 32ms
   × tauri.ts > webMockInvoke (Web path) > should authenticate employee correctly 10ms
     → expected null not to be null
   × tauri.ts > webMockInvoke (Web path) > should check if admin exists 4ms
     → expected false to be true // Object.is equality
   × tauri.ts > webMockInvoke (Web path) > should open and close a cash session 1ms
     → Cannot read properties of undefined (reading 'id')
   × tauri.ts > webMockInvoke (Web path) > should add cash movements and get summary 1ms
     → Cannot read properties of undefined (reading 'id')
   × tauri.ts > webMockInvoke (Web path) > should throw error if opening session when one is already open 1ms
     → Cannot read properties of undefined (reading 'id')
stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should show loading state on mount
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should render activation form when no license exists
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] Showing loading screen (isValidating=true)

stderr | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should render activation form when no license exists
[LicenseActivationPage] Restore failed: Error: [vitest] No "restoreLicense" export is defined on the "@/lib/tauri" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at initialize (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/license/LicenseActivationPage.tsx:196:39)
    at processTicksAndRejections (node:internal/process/task_queues:95:5) {
  codeFrame: 'vi.mock(import("@/lib/tauri"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should render activation form when no license exists
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed

stderr | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should render activation form when no license exists
[LicenseActivationPage] Restore failed: Error: [vitest] No "restoreLicense" export is defined on the "@/lib/tauri" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at initialize (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/license/LicenseActivationPage.tsx:196:39) {
  codeFrame: 'vi.mock(import("@/lib/tauri"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should format license key during typing
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] Showing loading screen (isValidating=true)

stderr | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should format license key during typing
[LicenseActivationPage] Restore failed: Error: [vitest] No "restoreLicense" export is defined on the "@/lib/tauri" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at initialize (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/license/LicenseActivationPage.tsx:196:39) {
  codeFrame: 'vi.mock(import("@/lib/tauri"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should format license key during typing
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed

stderr | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should format license key during typing
[LicenseActivationPage] Restore failed: Error: [vitest] No "restoreLicense" export is defined on the "@/lib/tauri" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at initialize (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/license/LicenseActivationPage.tsx:196:39)
    at processTicksAndRejections (node:internal/process/task_queues:95:5) {
  codeFrame: 'vi.mock(import("@/lib/tauri"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should handle successful activation
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] Activation success, redirecting in 1.5s...

stderr | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should handle successful activation
[LicenseActivationPage] Restore failed: Error: [vitest] No "restoreLicense" export is defined on the "@/lib/tauri" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at initialize (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/license/LicenseActivationPage.tsx:196:39)
    at runNextTicks (node:internal/process/task_queues:60:5)
    at listOnTimeout (node:internal/timers:545:9)
    at processTimers (node:internal/timers:519:7) {
  codeFrame: 'vi.mock(import("@/lib/tauri"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
[LicenseActivationPage] Restore failed: Error: [vitest] No "restoreLicense" export is defined on the "@/lib/tauri" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at initialize (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/license/LicenseActivationPage.tsx:196:39)
    at runNextTicks (node:internal/process/task_queues:60:5)
    at listOnTimeout (node:internal/timers:545:9)
    at processTimers (node:internal/timers:519:7) {
  codeFrame: 'vi.mock(import("@/lib/tauri"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}

stdout | src/stores/__tests__/license-store.test.ts > license-store > should hydrate from disk successfully
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: {
  key: 'disk-key',
  info: { status: 'active', license_key: 'disk-key' },
  last_validated_at: '2026-01-19T02:19:38.463Z'
}
[LicenseStore] Within grace period, setting state to valid

stdout | src/stores/__tests__/license-store.test.ts > license-store > should handle missing license on disk
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed

stdout | src/stores/__tests__/license-store.test.ts > license-store > should handle disk hydration error
[LicenseStore] Hydrating from disk...

stderr | src/stores/__tests__/license-store.test.ts > license-store > should handle disk hydration error
[LicenseStore] Failed to hydrate license from disk: Error: Disk error
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/stores/__tests__/license-store.test.ts:185:51
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)

 ✓ src/stores/__tests__/license-store.test.ts (11 tests) 18ms
 ✓ src/components/motoparts/__tests__/ServiceOrderDetails.test.tsx (8 tests) 953ms
 ✓ src/pages/products/__tests__/ProductsPage.test.tsx (17 tests) 3707ms
   ✓ ProductsPage > should render products and handle search with debounce 877ms
   ✓ ProductsPage > should handle search with barcode 638ms
   ✓ ProductsPage > should show empty state when search returns nothing 703ms
stderr | src/pages/cash/__tests__/CashControlPage.test.tsx > CashControlPage > should handle adding a cash movement (Sangria)
Error: [vitest] No "addCashMovement" export is defined on the "@/lib/tauri" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at Object.mutationFn (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/hooks/useSales.ts:235:47)
    at Object.fn (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@tanstack+query-core@5.90.17/node_modules/@tanstack/query-core/src/mutation.ts:190:29)
    at run (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@tanstack+query-core@5.90.17/node_modules/@tanstack/query-core/src/retryer.ts:155:49)
    at Object.start (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@tanstack+query-core@5.90.17/node_modules/@tanstack/query-core/src/retryer.ts:221:9)
    at Mutation.execute (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@tanstack+query-core@5.90.17/node_modules/@tanstack/query-core/src/mutation.ts:233:40)
    at addMovement (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/cash/CashControlPage.tsx:83:7) {
  codeFrame: 'vi.mock(import("@/lib/tauri"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}

stderr | src/components/motoparts/__tests__/WarrantyDetails.test.tsx > WarrantyDetails > should handle resolve error gracefully
Erro ao resolver garantia: Error: Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/components/motoparts/__tests__/WarrantyDetails.test.tsx:213:40
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)

 ✓ src/components/motoparts/__tests__/WarrantyDetails.test.tsx (9 tests) 792ms
 ✓ src/components/tutorial/__tests__/tutorial-store.test.ts (15 tests) 10ms
stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should render login page
[LoginPage] Mounted

stderr | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should render login page
Warning: validateDOMNesting(...): <p> cannot appear as a descendant of <p>.
    at p
    at p
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/components/ui/card.tsx:64:61
    at div
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/components/ui/card.tsx:27:56
    at div
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/components/ui/card.tsx:7:50
    at div
    at LoginPage (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/auth/LoginPage.tsx:22:47)
    at Router (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1101:7)

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should render PIN display with 6 slots
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should render numeric keypad
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should render clear (C) button
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should render backspace (←) button
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should render login button disabled initially
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should enable login button after 4 digits
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should clear PIN when C is clicked
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should remove last digit when ← is clicked
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should show error for short PIN
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should call authenticateEmployee on login
[LoginPage] Mounted

 ✓ src/lib/__tests__/utils.test.ts (35 tests) 43ms
stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should navigate to dashboard on successful login
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should show error for invalid PIN
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should show system version
[LoginPage] Mounted

 ✓ tests/unit/hardware/scanner.mock.test.ts (15 tests) 13ms
 ✓ src/pages/auth/__tests__/LoginPage.test.tsx (14 tests) 1171ms
stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should handle successful activation
[LicenseActivationPage] Executing navigate to /

stderr | src/pages/cash/__tests__/CashControlPage.test.tsx > CashControlPage > should handle movement registration failure
Error: [vitest] No "addCashMovement" export is defined on the "@/lib/tauri" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at Object.mutationFn (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/hooks/useSales.ts:235:47)
    at Object.fn (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@tanstack+query-core@5.90.17/node_modules/@tanstack/query-core/src/mutation.ts:190:29)
    at run (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@tanstack+query-core@5.90.17/node_modules/@tanstack/query-core/src/retryer.ts:155:49)
    at Object.start (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@tanstack+query-core@5.90.17/node_modules/@tanstack/query-core/src/retryer.ts:221:9)
    at Mutation.execute (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@tanstack+query-core@5.90.17/node_modules/@tanstack/query-core/src/mutation.ts:233:40)
    at addMovement (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/cash/CashControlPage.tsx:83:7) {
  codeFrame: 'vi.mock(import("@/lib/tauri"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should redirect to /setup after activation if has_admin is false
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] Activation success, redirecting in 1.5s...

stderr | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should redirect to /setup after activation if has_admin is false
[LicenseActivationPage] Restore failed: Error: [vitest] No "restoreLicense" export is defined on the "@/lib/tauri" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at initialize (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/license/LicenseActivationPage.tsx:196:39) {
  codeFrame: 'vi.mock(import("@/lib/tauri"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
[LicenseActivationPage] Restore failed: Error: [vitest] No "restoreLicense" export is defined on the "@/lib/tauri" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at initialize (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/license/LicenseActivationPage.tsx:196:39) {
  codeFrame: 'vi.mock(import("@/lib/tauri"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}

 ✓ src/hooks/__tests__/use-products.test.tsx (11 tests) 373ms
 ✓ src/components/ui/__tests__/Card.test.tsx (21 tests) 139ms
 ✓ src/components/pdv/__tests__/NumPad.test.tsx (19 tests) 714ms
 ✓ src/hooks/__tests__/useAlerts.test.tsx (8 tests) 492ms
 ✓ src/hooks/__tests__/useCashSession.test.tsx (7 tests) 410ms
stderr | src/components/motoparts/__tests__/WarrantyForm.test.tsx > WarrantyForm > should show error toast on failure
Erro ao registrar garantia: Error: Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/components/motoparts/__tests__/WarrantyForm.test.tsx:148:46
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11

 ✓ src/pages/settings/__tests__/SettingsPage.test.tsx (6 tests) 1339ms
   ✓ SettingsPage > should switch between all tabs 429ms
 ✓ src/pages/stock/__tests__/ExpirationPage.test.tsx (6 tests) 399ms
 ✓ src/components/motoparts/__tests__/WarrantyForm.test.tsx (5 tests) 586ms
 ❯ src/pages/cash/__tests__/CashControlPage.test.tsx (11 tests | 3 failed) 5999ms
   × CashControlPage > should handle adding a cash movement (Suprimento) 3127ms
     → expected "spy" to be called with arguments: [ 'add_cash_movement', …(1) ]

Received: 



Number of calls: 0


Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body[39m
    [33mdata-scroll-locked[39m=[32m"1"[39m
    [33mstyle[39m=[32m"pointer-events: none;"[39m
  [36m>[39m
    [36m<span[39m
      [33maria-hidden[39m=[32m"true"[39m
      [33mdata-aria-hidden[39m=[32m"true"[39m
      [33mdata-radix-focus-guard[39m=[32m""[39m
      [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
      [33mtabindex[39m=[32m"0"[39m
    [36m/>[39m
    [36m<div[39m
      [33maria-hidden[39m=[32m"true"[39m
      [33mdata-aria-hidden[39m=[32m"true"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex flex-col gap-4"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold tracking-tight"[39m
            [36m>[39m
              [0mControle de Caixa[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-muted-foreground"[39m
            [36m>[39m
              [0mCaixa aberto desde 06:00 de 01/01/2025[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex gap-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-printer"[39m
              [36m/>[39m
              [0mImprimir Resumo[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 ml-2"[39m
              [33mdata-testid[39m=[32m"cash-supply"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-arrow-ur"[39m
              [36m/>[39m
              [0mSuprimento[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 ml-2"[39m
              [33mdata-testid[39m=[32m"cash-withdrawal"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-arrow-dr"[39m
              [36m/>[39m
              [0mSangria[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-destructive text-destructive-foreground hover:bg-destructive/90 h-10 px-4 py-2"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-clock"[39m
              [36m/>[39m
              [36m<span[39m
                [33mdata-testid[39m=[32m"close-cash"[39m
              [36m>[39m
                [0mFechar Caixa[0m
              [36m</span>[39m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm border-green-500 bg-green-50/50"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6 flex items-center gap-4 py-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"icon-check"[39m
            [36m/>[39m
            [36m<div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"font-semibold text-green-800"[39m
              [36m>[39m
                [0mCaixa Aberto[0m
              [36m</p>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-green-600"[39m
              [36m>[39m
                [0mOperador: [0m
                [0mNão identificado[0m
              [36m</p>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground mt-1"[39m
                [33mdata-testid[39m=[32m"cash-balance"[39m
              [36m>[39m
                [0mR$ 0,00[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border bg-card text-card-foreground shadow-sm"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-2xl font-semibold leading-none tracking-tight"[39m
            [36m>[39m
              [0mMovimentações[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
            [36m>[39m
              [0mEntradas e saídas do caixa[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6 pt-0"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"overflow-auto"[39m
            [36m>[39m
              [36m<table[39m
                [33mclass[39m=[32m"w-full table-auto"[39m
                [33mdata-testid[39m=[32m"movements-list"[39m
              [36m>[39m
                [36m<thead>[39m
                  [36m<tr[39m
                    [33mclass[39m=[32m"text-left"[39m
                  [36m>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"py-2"[39m
                    [36m>[39m
                      [0mTipo[0m
                    [36m</th>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"py-2"[39m
                    [36m>[39m
            ...
   × CashControlPage > should handle adding a cash movement (Sangria) 1098ms
     → expected "spy" to be called with arguments: [ 'add_cash_movement', …(1) ]

Received: 



Number of calls: 0


Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body[39m
    [33mdata-scroll-locked[39m=[32m"1"[39m
    [33mstyle[39m=[32m"pointer-events: none;"[39m
  [36m>[39m
    [36m<span[39m
      [33maria-hidden[39m=[32m"true"[39m
      [33mdata-aria-hidden[39m=[32m"true"[39m
      [33mdata-radix-focus-guard[39m=[32m""[39m
      [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
      [33mtabindex[39m=[32m"0"[39m
    [36m/>[39m
    [36m<div[39m
      [33maria-hidden[39m=[32m"true"[39m
      [33mdata-aria-hidden[39m=[32m"true"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex flex-col gap-4"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold tracking-tight"[39m
            [36m>[39m
              [0mControle de Caixa[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-muted-foreground"[39m
            [36m>[39m
              [0mCaixa aberto desde 06:00 de 01/01/2025[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex gap-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-printer"[39m
              [36m/>[39m
              [0mImprimir Resumo[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 ml-2"[39m
              [33mdata-testid[39m=[32m"cash-supply"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-arrow-ur"[39m
              [36m/>[39m
              [0mSuprimento[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 ml-2"[39m
              [33mdata-testid[39m=[32m"cash-withdrawal"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-arrow-dr"[39m
              [36m/>[39m
              [0mSangria[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-destructive text-destructive-foreground hover:bg-destructive/90 h-10 px-4 py-2"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-clock"[39m
              [36m/>[39m
              [36m<span[39m
                [33mdata-testid[39m=[32m"close-cash"[39m
              [36m>[39m
                [0mFechar Caixa[0m
              [36m</span>[39m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm border-green-500 bg-green-50/50"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6 flex items-center gap-4 py-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"icon-check"[39m
            [36m/>[39m
            [36m<div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"font-semibold text-green-800"[39m
              [36m>[39m
                [0mCaixa Aberto[0m
              [36m</p>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-green-600"[39m
              [36m>[39m
                [0mOperador: [0m
                [0mNão identificado[0m
              [36m</p>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground mt-1"[39m
                [33mdata-testid[39m=[32m"cash-balance"[39m
              [36m>[39m
                [0mR$ 0,00[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border bg-card text-card-foreground shadow-sm"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-2xl font-semibold leading-none tracking-tight"[39m
            [36m>[39m
              [0mMovimentações[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
            [36m>[39m
              [0mEntradas e saídas do caixa[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6 pt-0"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"overflow-auto"[39m
            [36m>[39m
              [36m<table[39m
                [33mclass[39m=[32m"w-full table-auto"[39m
                [33mdata-testid[39m=[32m"movements-list"[39m
              [36m>[39m
                [36m<thead>[39m
                  [36m<tr[39m
                    [33mclass[39m=[32m"text-left"[39m
                  [36m>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"py-2"[39m
                    [36m>[39m
                      [0mTipo[0m
                    [36m</th>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"py-2"[39m
                    [36m>[39m
            ...
   × CashControlPage > should handle movement registration failure 1087ms
     → expected "spy" to be called at least once

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body[39m
    [33mdata-scroll-locked[39m=[32m"1"[39m
    [33mstyle[39m=[32m"pointer-events: none;"[39m
  [36m>[39m
    [36m<span[39m
      [33maria-hidden[39m=[32m"true"[39m
      [33mdata-aria-hidden[39m=[32m"true"[39m
      [33mdata-radix-focus-guard[39m=[32m""[39m
      [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
      [33mtabindex[39m=[32m"0"[39m
    [36m/>[39m
    [36m<div[39m
      [33maria-hidden[39m=[32m"true"[39m
      [33mdata-aria-hidden[39m=[32m"true"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex flex-col gap-4"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold tracking-tight"[39m
            [36m>[39m
              [0mControle de Caixa[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-muted-foreground"[39m
            [36m>[39m
              [0mCaixa aberto desde 22:19 de 18/01/2026[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex gap-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-printer"[39m
              [36m/>[39m
              [0mImprimir Resumo[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 ml-2"[39m
              [33mdata-testid[39m=[32m"cash-supply"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-arrow-ur"[39m
              [36m/>[39m
              [0mSuprimento[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 ml-2"[39m
              [33mdata-testid[39m=[32m"cash-withdrawal"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-arrow-dr"[39m
              [36m/>[39m
              [0mSangria[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-destructive text-destructive-foreground hover:bg-destructive/90 h-10 px-4 py-2"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-clock"[39m
              [36m/>[39m
              [36m<span[39m
                [33mdata-testid[39m=[32m"close-cash"[39m
              [36m>[39m
                [0mFechar Caixa[0m
              [36m</span>[39m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm border-green-500 bg-green-50/50"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6 flex items-center gap-4 py-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"icon-check"[39m
            [36m/>[39m
            [36m<div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"font-semibold text-green-800"[39m
              [36m>[39m
                [0mCaixa Aberto[0m
              [36m</p>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-green-600"[39m
              [36m>[39m
                [0mOperador: [0m
                [0mNão identificado[0m
              [36m</p>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground mt-1"[39m
                [33mdata-testid[39m=[32m"cash-balance"[39m
              [36m>[39m
                [0mR$ 0,00[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border bg-card text-card-foreground shadow-sm"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-2xl font-semibold leading-none tracking-tight"[39m
            [36m>[39m
              [0mMovimentações[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
            [36m>[39m
              [0mEntradas e saídas do caixa[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6 pt-0"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"overflow-auto"[39m
            [36m>[39m
              [36m<table[39m
                [33mclass[39m=[32m"w-full table-auto"[39m
                [33mdata-testid[39m=[32m"movements-list"[39m
              [36m>[39m
                [36m<thead>[39m
                  [36m<tr[39m
                    [33mclass[39m=[32m"text-left"[39m
                  [36m>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"py-2"[39m
                    [36m>[39m
                      [0mTipo[0m
                    [36m</th>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"py-2"[39m
                    [36m>[39m
            ...
stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should redirect to /setup after activation if has_admin is false
[LicenseActivationPage] Executing navigate to /setup

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should redirect to / after activation if has_admin is true
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] Activation success, redirecting in 1.5s...

stderr | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should redirect to / after activation if has_admin is true
[LicenseActivationPage] Restore failed: Error: [vitest] No "restoreLicense" export is defined on the "@/lib/tauri" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at initialize (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/license/LicenseActivationPage.tsx:196:39) {
  codeFrame: 'vi.mock(import("@/lib/tauri"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
[LicenseActivationPage] Restore failed: Error: [vitest] No "restoreLicense" export is defined on the "@/lib/tauri" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at initialize (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/license/LicenseActivationPage.tsx:196:39) {
  codeFrame: 'vi.mock(import("@/lib/tauri"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}

 ✓ src/hooks/__tests__/useKeyboard.test.tsx (11 tests) 53ms
 ✓ src/pages/stock/__tests__/StockMovementsPage.test.tsx (7 tests) 437ms
 ✓ src/components/ui/__tests__/Button.test.tsx (23 tests) 330ms
 ✓ tests/unit/hardware/scale.mock.test.ts (18 tests) 7ms
 ✓ src/pages/dashboard/__tests__/DashboardPage.test.tsx (7 tests) 493ms
 ✓ src/hooks/__tests__/usePriceHistory.test.tsx (14 tests) 326ms
 ✓ src/components/nfce/__tests__/ContingencyManager.test.tsx (5 tests) 338ms
stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should redirect to / after activation if has_admin is true
[LicenseActivationPage] Executing navigate to /

stderr | src/__tests__/App.test.tsx > App > should redirect to /setup if no admin exists
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
The above error occurred in the <App> component:

    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:190:3)
    at Router (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1101:7)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/__tests__/App.test.tsx > App > should redirect to /login if NOT authenticated in ProtectedRoute
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
The above error occurred in the <App> component:

    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:190:3)
    at Router (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1101:7)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/__tests__/App.test.tsx > App > should handle F1 hotkey to navigate to tutorials
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
The above error occurred in the <App> component:

    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:190:3)
    at Router (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1101:7)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/__tests__/App.test.tsx > App > should show loading state in AdminCheck
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
The above error occurred in the <App> component:

    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:190:3)
    at Router (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1101:7)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/__tests__/App.test.tsx > App > should respect role-based access in ProtectedRoute
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
The above error occurred in the <App> component:

    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:190:3)
    at Router (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1101:7)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/__tests__/App.test.tsx > App > should redirect to wizard from RootRedirect when not configured
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
The above error occurred in the <App> component:

    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:190:3)
    at Router (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1101:7)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/__tests__/App.test.tsx > App > should handle WizardRoute redirect to PDV when already configured
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
The above error occurred in the <App> component:

    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:190:3)
    at Router (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1101:7)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

 ❯ src/__tests__/App.test.tsx (7 tests | 7 failed) 79ms
   × App > should redirect to /setup if no admin exists 47ms
     → [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   × App > should redirect to /login if NOT authenticated in ProtectedRoute 5ms
     → [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   × App > should handle F1 hotkey to navigate to tutorials 5ms
     → [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   × App > should show loading state in AdminCheck 7ms
     → [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   × App > should respect role-based access in ProtectedRoute 5ms
     → [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   × App > should redirect to wizard from RootRedirect when not configured 4ms
     → [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   × App > should handle WizardRoute redirect to PDV when already configured 4ms
     → [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should handle activation error
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed

stderr | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should handle activation error
[LicenseActivationPage] Restore failed: Error: [vitest] No "restoreLicense" export is defined on the "@/lib/tauri" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at initialize (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/license/LicenseActivationPage.tsx:196:39) {
  codeFrame: 'vi.mock(import("@/lib/tauri"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
[LicenseActivationPage] Restore failed: Error: [vitest] No "restoreLicense" export is defined on the "@/lib/tauri" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at initialize (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/license/LicenseActivationPage.tsx:196:39) {
  codeFrame: 'vi.mock(import("@/lib/tauri"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should redirect if valid license is found on mount
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Post-hydration: key=EXISTING-KEY, state=valid
[LicenseActivationPage] Valid license or within grace period, proceeding to root
[LicenseActivationPage] Showing loading screen (isValidating=true)

stderr | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should redirect if valid license is found on mount
License initialization timed out, showing form.

stdout | Timeout._onTimeout (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/lib/vehicleCache.ts:448:15)
[VehicleCache] Cache precisa de sincronização (> 7 dias)

 ✓ src/pages/license/__tests__/LicenseActivationPage.test.tsx (8 tests) 5092ms
   ✓ LicenseActivationPage > should handle successful activation 1570ms
   ✓ LicenseActivationPage > should redirect to /setup after activation if has_admin is false 1562ms
   ✓ LicenseActivationPage > should redirect to / after activation if has_admin is true 1637ms
 ✓ tests/integration/sale.flow.test.ts (6 tests) 8ms
 ✓ src/pages/reports/__tests__/SalesReportPage.test.tsx (9 tests) 724ms
 ✓ tests/unit/hardware/printer.mock.test.ts (13 tests) 8ms
 ✓ src/components/ui/__tests__/Input.test.tsx (19 tests) 132ms
 ✓ src/hooks/__tests__/useServiceOrders.test.tsx (8 tests) 126ms
 ✓ tests/integration/cash.flow.test.ts (6 tests) 8ms
 ✓ src/pages/stock/__tests__/StockPage.test.tsx (7 tests) 359ms
 ✓ src/pages/employees/__tests__/EmployeesPage.test.tsx (7 tests) 2168ms
   ✓ EmployeesPage > should create a new employee 632ms
   ✓ EmployeesPage > should edit an employee 532ms
 ✓ src/components/motoparts/__tests__/ServiceOrderList.test.tsx (7 tests) 360ms
 ✓ src/components/tutorial/__tests__/useTutorial.test.tsx (9 tests) 41ms
 ✓ src/hooks/__tests__/useVehicles.test.tsx (6 tests) 430ms
 ✓ src/hooks/__tests__/use-toast.test.ts (9 tests) 39ms
 ✓ src/components/motoparts/__tests__/MotopartsDashboard.test.tsx (3 tests) 206ms
stdout | src/pages/setup/__tests__/InitialSetupPage.test.tsx > InitialSetupPage > should complete setup and call updateLicenseAdmin
[Setup] Syncing admin to license server...
[Setup] Admin synced successfully
[Setup] has-admin query invalidated

 ✓ src/pages/reports/__tests__/ReportsPage.test.tsx (3 tests) 792ms
   ✓ ReportsPage > should render all report category cards with correct links 463ms
 ✓ src/pages/setup/__tests__/InitialSetupPage.test.tsx (3 tests) 356ms
 ✓ src/stores/__tests__/auth-store.test.ts (7 tests) 14ms
 ✓ src/components/shared/__tests__/FeatureGate.test.tsx (7 tests) 91ms
 ✓ src/lib/__tests__/design-tokens.test.ts (15 tests) 31ms
 ✓ src/hooks/__tests__/useWarranties.test.tsx (6 tests) 175ms
 ✓ src/components/layout/__tests__/Sidebar.test.tsx (9 tests) 774ms
 ✓ src/components/motoparts/__tests__/VehicleSelector.test.tsx (5 tests) 794ms
   ✓ VehicleSearch > should search and select vehicle 537ms
 ✓ src/pages/stock/__tests__/StockEntryPage.test.tsx (4 tests) 1115ms
   ✓ StockEntryPage > should allow searching and selecting a product 412ms
   ✓ StockEntryPage > should submit stock entry with all fields 543ms
stderr | src/pages/products/__tests__/ProductFormPage.test.tsx > ProductFormPage > Create Mode > should render page title for new product
[WebMock] Invoking get_categories (MOCK MODE ACTIVE) undefined

stderr | src/pages/products/__tests__/ProductFormPage.test.tsx > ProductFormPage > Create Mode > should render save button
[WebMock] Invoking get_categories (MOCK MODE ACTIVE) undefined

stderr | src/pages/products/__tests__/ProductFormPage.test.tsx > ProductFormPage > Create Mode > should render form inputs
[WebMock] Invoking get_categories (MOCK MODE ACTIVE) undefined

stderr | src/pages/products/__tests__/ProductFormPage.test.tsx > ProductFormPage > Validation > should show error when submitting without name
[WebMock] Invoking get_categories (MOCK MODE ACTIVE) undefined

 ✓ src/pages/products/__tests__/ProductFormPage.test.tsx (4 tests) 1066ms
   ✓ ProductFormPage > Create Mode > should render page title for new product 453ms
 ✓ src/hooks/__tests__/useEmployees.test.ts (6 tests) 175ms
 ✓ src/hooks/__tests__/useAuth.test.tsx (4 tests) 270ms
 ✓ src/components/pdv/__tests__/CartItemRow.test.tsx (10 tests) 308ms
 ✓ src/stores/__tests__/useBusinessProfile.test.ts (9 tests) 36ms
 ✓ src/components/ui/__tests__/Badge.test.tsx (12 tests) 88ms
 ✓ src/components/pdv/__tests__/ProductCard.test.tsx (11 tests) 297ms
 ✓ src/components/motoparts/__tests__/CustomerSearch.test.tsx (5 tests) 454ms
 ✓ tests/unit/utils/validators.test.ts (11 tests) 8ms
 ✓ src/components/ui/__tests__/Switch.test.tsx (11 tests) 315ms
 ✓ src/components/pdv/__tests__/PaymentModal.test.tsx (3 tests) 439ms
 ✓ src/components/motoparts/__tests__/WarrantyManager.test.tsx (1 test) 90ms
 ✓ src/components/motoparts/__tests__/ServiceOrderManager.test.tsx (1 test) 109ms
 ✓ src/components/tutorial/__tests__/TutorialHub.test.tsx (6 tests) 386ms
 ✓ src/components/layout/__tests__/Header.test.tsx (7 tests) 263ms
 ✓ src/components/layout/__tests__/Footer.test.tsx (5 tests) 200ms
 ✓ src/components/layout/__tests__/AppShell.test.tsx (4 tests) 165ms
 ✓ src/pages/alerts/__tests__/AlertsPage.test.tsx (3 tests) 240ms
 ✓ src/components/pdv/__tests__/SaleReceipt.test.tsx (2 tests) 103ms
 ✓ src/components/motoparts/__tests__/WarrantyList.test.tsx (2 tests) 157ms
 ✓ src/pages/motoparts/__tests__/ServiceOrdersPage.test.tsx (1 test) 23ms
 ✓ src/components/shared/__tests__/LoadingPage.test.tsx (3 tests) 41ms
 ✓ src/pages/motoparts/__tests__/WarrantiesPage.test.tsx (1 test) 28ms

⎯⎯⎯⎯⎯⎯ Failed Tests 16 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  src/__tests__/App.test.tsx > App > should redirect to /setup if no admin exists
 FAIL  src/__tests__/App.test.tsx > App > should redirect to /login if NOT authenticated in ProtectedRoute
 FAIL  src/__tests__/App.test.tsx > App > should handle F1 hotkey to navigate to tutorials
 FAIL  src/__tests__/App.test.tsx > App > should show loading state in AdminCheck
 FAIL  src/__tests__/App.test.tsx > App > should respect role-based access in ProtectedRoute
 FAIL  src/__tests__/App.test.tsx > App > should redirect to wizard from RootRedirect when not configured
 FAIL  src/__tests__/App.test.tsx > App > should handle WizardRoute redirect to PDV when already configured
Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("@/components/guards"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 ❯ App src/App.tsx:153:6
    151| 
    152|   return (
    153|     <SessionGuard timeoutMinutes={30}>
       |      ^
    154|       <NavigationLogger />
    155|       <GlobalSetupGate>
 ❯ renderWithHooks node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ beginWork$1 node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27465:14
 ❯ performUnitOfWork node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12
 ❯ workLoopSync node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26505:5
 ❯ renderRootSync node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26473:7

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/16]⎯

 FAIL  src/hooks/__tests__/useSales.test.tsx > Cash Session Hooks > useCloseCashSession should close a session
TypeError: cashSessionKeys.history is not a function
 ❯ Object.onSuccess src/hooks/useSales.ts:212:65
    210|       setCashSession(null);
    211|       queryClient.invalidateQueries({ queryKey: cashSessionKeys.curren…
    212|       queryClient.invalidateQueries({ queryKey: cashSessionKeys.histor…
       |                                                                 ^
    213| 
    214|       const diff = session.difference ?? 0;
 ❯ Mutation.execute node_modules/.pnpm/@tanstack+query-core@5.90.17/node_modules/@tanstack/query-core/src/mutation.ts:244:26
 ❯ src/hooks/__tests__/useSales.test.tsx:341:5

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/16]⎯

 FAIL  src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should authenticate employee correctly
AssertionError: expected null not to be null
 ❯ src/lib/__tests__/tauri.test.ts:83:28
     81|     it('should authenticate employee correctly', async () => {
     82|       const employee = await tauriLib.authenticateEmployee('8899');
     83|       expect(employee).not.toBeNull();
       |                            ^
     84|       expect(employee?.name).toBe('Admin');
     85|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/16]⎯

 FAIL  src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should check if admin exists
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ src/lib/__tests__/tauri.test.ts:94:22
     92|     it('should check if admin exists', async () => {
     93|       const exists = await tauriLib.hasAdmin();
     94|       expect(exists).toBe(true);
       |                      ^
     95|     });
     96| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[4/16]⎯

 FAIL  src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should open and close a cash session
TypeError: Cannot read properties of undefined (reading 'id')
 ❯ src/lib/__tests__/tauri.test.ts:104:36
    102|     it('should open and close a cash session', async () => {
    103|       const employees = await tauriLib.getEmployees();
    104|       const adminId = employees[0].id;
       |                                    ^
    105| 
    106|       const session = await tauriLib.openCashSession({

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[5/16]⎯

 FAIL  src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should add cash movements and get summary
TypeError: Cannot read properties of undefined (reading 'id')
 ❯ src/lib/__tests__/tauri.test.ts:131:36
    129|     it('should add cash movements and get summary', async () => {
    130|       const employees = await tauriLib.getEmployees();
    131|       const adminId = employees[0].id;
       |                                    ^
    132| 
    133|       const session = await tauriLib.openCashSession({

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[6/16]⎯

 FAIL  src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should throw error if opening session when one is already open
TypeError: Cannot read properties of undefined (reading 'id')
 ❯ src/lib/__tests__/tauri.test.ts:164:36
    162|     it('should throw error if opening session when one is already open…
    163|       const employees = await tauriLib.getEmployees();
    164|       const adminId = employees[0].id;
       |                                    ^
    165| 
    166|       await tauriLib.openCashSession({ employeeId: adminId, openingBal…

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[7/16]⎯

 FAIL  src/pages/cash/__tests__/CashControlPage.test.tsx > CashControlPage > should handle adding a cash movement (Suprimento)
AssertionError: expected "spy" to be called with arguments: [ 'add_cash_movement', …(1) ]

Received: 



Number of calls: 0


Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body[39m
    [33mdata-scroll-locked[39m=[32m"1"[39m
    [33mstyle[39m=[32m"pointer-events: none;"[39m
  [36m>[39m
    [36m<span[39m
      [33maria-hidden[39m=[32m"true"[39m
      [33mdata-aria-hidden[39m=[32m"true"[39m
      [33mdata-radix-focus-guard[39m=[32m""[39m
      [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
      [33mtabindex[39m=[32m"0"[39m
    [36m/>[39m
    [36m<div[39m
      [33maria-hidden[39m=[32m"true"[39m
      [33mdata-aria-hidden[39m=[32m"true"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex flex-col gap-4"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold tracking-tight"[39m
            [36m>[39m
              [0mControle de Caixa[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-muted-foreground"[39m
            [36m>[39m
              [0mCaixa aberto desde 06:00 de 01/01/2025[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex gap-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-printer"[39m
              [36m/>[39m
              [0mImprimir Resumo[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 ml-2"[39m
              [33mdata-testid[39m=[32m"cash-supply"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-arrow-ur"[39m
              [36m/>[39m
              [0mSuprimento[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 ml-2"[39m
              [33mdata-testid[39m=[32m"cash-withdrawal"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-arrow-dr"[39m
              [36m/>[39m
              [0mSangria[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-destructive text-destructive-foreground hover:bg-destructive/90 h-10 px-4 py-2"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-clock"[39m
              [36m/>[39m
              [36m<span[39m
                [33mdata-testid[39m=[32m"close-cash"[39m
              [36m>[39m
                [0mFechar Caixa[0m
              [36m</span>[39m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm border-green-500 bg-green-50/50"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6 flex items-center gap-4 py-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"icon-check"[39m
            [36m/>[39m
            [36m<div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"font-semibold text-green-800"[39m
              [36m>[39m
                [0mCaixa Aberto[0m
              [36m</p>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-green-600"[39m
              [36m>[39m
                [0mOperador: [0m
                [0mNão identificado[0m
              [36m</p>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground mt-1"[39m
                [33mdata-testid[39m=[32m"cash-balance"[39m
              [36m>[39m
                [0mR$ 0,00[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border bg-card text-card-foreground shadow-sm"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-2xl font-semibold leading-none tracking-tight"[39m
            [36m>[39m
              [0mMovimentações[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
            [36m>[39m
              [0mEntradas e saídas do caixa[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6 pt-0"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"overflow-auto"[39m
            [36m>[39m
              [36m<table[39m
                [33mclass[39m=[32m"w-full table-auto"[39m
                [33mdata-testid[39m=[32m"movements-list"[39m
              [36m>[39m
                [36m<thead>[39m
                  [36m<tr[39m
                    [33mclass[39m=[32m"text-left"[39m
                  [36m>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"py-2"[39m
                    [36m>[39m
                      [0mTipo[0m
                    [36m</th>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"py-2"[39m
                    [36m>[39m
            ...
 ❯ __vi_import_3__.waitFor.timeout src/pages/cash/__tests__/CashControlPage.test.tsx:230:28
    228|     await waitFor(
    229|       () => {
    230|         expect(mockInvoke).toHaveBeenCalledWith("add_cash_movement", {
       |                            ^
    231|           input: expect.objectContaining({
    232|             movementType: "SUPPLY",
 ❯ runWithExpensiveErrorDiagnosticsDisabled node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:47:12
 ❯ checkCallback node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:124:77
 ❯ Timeout.checkRealTimersCallback node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:118:16

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[8/16]⎯

 FAIL  src/pages/cash/__tests__/CashControlPage.test.tsx > CashControlPage > should handle adding a cash movement (Sangria)
AssertionError: expected "spy" to be called with arguments: [ 'add_cash_movement', …(1) ]

Received: 



Number of calls: 0


Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body[39m
    [33mdata-scroll-locked[39m=[32m"1"[39m
    [33mstyle[39m=[32m"pointer-events: none;"[39m
  [36m>[39m
    [36m<span[39m
      [33maria-hidden[39m=[32m"true"[39m
      [33mdata-aria-hidden[39m=[32m"true"[39m
      [33mdata-radix-focus-guard[39m=[32m""[39m
      [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
      [33mtabindex[39m=[32m"0"[39m
    [36m/>[39m
    [36m<div[39m
      [33maria-hidden[39m=[32m"true"[39m
      [33mdata-aria-hidden[39m=[32m"true"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex flex-col gap-4"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold tracking-tight"[39m
            [36m>[39m
              [0mControle de Caixa[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-muted-foreground"[39m
            [36m>[39m
              [0mCaixa aberto desde 06:00 de 01/01/2025[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex gap-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-printer"[39m
              [36m/>[39m
              [0mImprimir Resumo[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 ml-2"[39m
              [33mdata-testid[39m=[32m"cash-supply"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-arrow-ur"[39m
              [36m/>[39m
              [0mSuprimento[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 ml-2"[39m
              [33mdata-testid[39m=[32m"cash-withdrawal"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-arrow-dr"[39m
              [36m/>[39m
              [0mSangria[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-destructive text-destructive-foreground hover:bg-destructive/90 h-10 px-4 py-2"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-clock"[39m
              [36m/>[39m
              [36m<span[39m
                [33mdata-testid[39m=[32m"close-cash"[39m
              [36m>[39m
                [0mFechar Caixa[0m
              [36m</span>[39m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm border-green-500 bg-green-50/50"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6 flex items-center gap-4 py-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"icon-check"[39m
            [36m/>[39m
            [36m<div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"font-semibold text-green-800"[39m
              [36m>[39m
                [0mCaixa Aberto[0m
              [36m</p>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-green-600"[39m
              [36m>[39m
                [0mOperador: [0m
                [0mNão identificado[0m
              [36m</p>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground mt-1"[39m
                [33mdata-testid[39m=[32m"cash-balance"[39m
              [36m>[39m
                [0mR$ 0,00[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border bg-card text-card-foreground shadow-sm"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-2xl font-semibold leading-none tracking-tight"[39m
            [36m>[39m
              [0mMovimentações[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
            [36m>[39m
              [0mEntradas e saídas do caixa[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6 pt-0"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"overflow-auto"[39m
            [36m>[39m
              [36m<table[39m
                [33mclass[39m=[32m"w-full table-auto"[39m
                [33mdata-testid[39m=[32m"movements-list"[39m
              [36m>[39m
                [36m<thead>[39m
                  [36m<tr[39m
                    [33mclass[39m=[32m"text-left"[39m
                  [36m>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"py-2"[39m
                    [36m>[39m
                      [0mTipo[0m
                    [36m</th>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"py-2"[39m
                    [36m>[39m
            ...
 ❯ src/pages/cash/__tests__/CashControlPage.test.tsx:266:26
    264| 
    265|     await waitFor(() => {
    266|       expect(mockInvoke).toHaveBeenCalledWith("add_cash_movement", {
       |                          ^
    267|         input: expect.objectContaining({
    268|           movementType: "BLEED",
 ❯ runWithExpensiveErrorDiagnosticsDisabled node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:47:12
 ❯ checkCallback node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:124:77
 ❯ Timeout.checkRealTimersCallback node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:118:16

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[9/16]⎯

 FAIL  src/pages/cash/__tests__/CashControlPage.test.tsx > CashControlPage > should handle movement registration failure
AssertionError: expected "spy" to be called at least once

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body[39m
    [33mdata-scroll-locked[39m=[32m"1"[39m
    [33mstyle[39m=[32m"pointer-events: none;"[39m
  [36m>[39m
    [36m<span[39m
      [33maria-hidden[39m=[32m"true"[39m
      [33mdata-aria-hidden[39m=[32m"true"[39m
      [33mdata-radix-focus-guard[39m=[32m""[39m
      [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
      [33mtabindex[39m=[32m"0"[39m
    [36m/>[39m
    [36m<div[39m
      [33maria-hidden[39m=[32m"true"[39m
      [33mdata-aria-hidden[39m=[32m"true"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex flex-col gap-4"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold tracking-tight"[39m
            [36m>[39m
              [0mControle de Caixa[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-muted-foreground"[39m
            [36m>[39m
              [0mCaixa aberto desde 22:19 de 18/01/2026[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex gap-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-printer"[39m
              [36m/>[39m
              [0mImprimir Resumo[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 ml-2"[39m
              [33mdata-testid[39m=[32m"cash-supply"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-arrow-ur"[39m
              [36m/>[39m
              [0mSuprimento[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 ml-2"[39m
              [33mdata-testid[39m=[32m"cash-withdrawal"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-arrow-dr"[39m
              [36m/>[39m
              [0mSangria[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-destructive text-destructive-foreground hover:bg-destructive/90 h-10 px-4 py-2"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"icon-clock"[39m
              [36m/>[39m
              [36m<span[39m
                [33mdata-testid[39m=[32m"close-cash"[39m
              [36m>[39m
                [0mFechar Caixa[0m
              [36m</span>[39m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm border-green-500 bg-green-50/50"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6 flex items-center gap-4 py-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"icon-check"[39m
            [36m/>[39m
            [36m<div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"font-semibold text-green-800"[39m
              [36m>[39m
                [0mCaixa Aberto[0m
              [36m</p>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-green-600"[39m
              [36m>[39m
                [0mOperador: [0m
                [0mNão identificado[0m
              [36m</p>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground mt-1"[39m
                [33mdata-testid[39m=[32m"cash-balance"[39m
              [36m>[39m
                [0mR$ 0,00[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border bg-card text-card-foreground shadow-sm"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-2xl font-semibold leading-none tracking-tight"[39m
            [36m>[39m
              [0mMovimentações[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
            [36m>[39m
              [0mEntradas e saídas do caixa[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6 pt-0"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"overflow-auto"[39m
            [36m>[39m
              [36m<table[39m
                [33mclass[39m=[32m"w-full table-auto"[39m
                [33mdata-testid[39m=[32m"movements-list"[39m
              [36m>[39m
                [36m<thead>[39m
                  [36m<tr[39m
                    [33mclass[39m=[32m"text-left"[39m
                  [36m>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"py-2"[39m
                    [36m>[39m
                      [0mTipo[0m
                    [36m</th>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"py-2"[39m
                    [36m>[39m
            ...
 ❯ src/pages/cash/__tests__/CashControlPage.test.tsx:294:26
    292| 
    293|     await waitFor(() => {
    294|       expect(mockInvoke).toHaveBeenCalled();
       |                          ^
    295|     });
    296|   });
 ❯ runWithExpensiveErrorDiagnosticsDisabled node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:47:12
 ❯ checkCallback node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:124:77
 ❯ Timeout.checkRealTimersCallback node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:118:16

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[10/16]⎯

 Test Files  4 failed | 86 passed (90)
      Tests  16 failed | 893 passed (909)
   Start at  22:19:32
   Duration  18.54s (transform 3.94s, setup 10.17s, collect 39.05s, tests 48.93s, environment 55.76s, prepare 10.56s)

