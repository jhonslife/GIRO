
 RUN  v2.1.9 /home/jhonslife/CICLOGIRO/GIRO/apps/desktop
      Coverage enabled with v8

 ✓ tests/unit/utils/formatters.test.ts (51 tests) 33ms
 ✓ src/lib/__tests__/formatters.test.ts (48 tests) 36ms
 ✓ src/stores/__tests__/pdv-store.test.ts (24 tests) 13ms
 ✓ src/stores/__tests__/settings-store.test.ts (28 tests) 52ms
stderr | src/components/motoparts/__tests__/ServiceOrderForm.test.tsx > ServiceOrderForm > should show toast on submission error
Erro ao criar ordem de serviço: Error: API Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/components/motoparts/__tests__/ServiceOrderForm.test.tsx:248:43
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11

 ✓ src/stores/__tests__/alert-store.test.ts (14 tests) 9ms
 ✓ src/components/motoparts/__tests__/ServiceOrderForm.test.tsx (5 tests) 536ms
 ✓ src/hooks/__tests__/useSales.test.tsx (15 tests) 681ms
stdout | src/pages/cash/__tests__/CashControlPage.test.tsx > CashControlPage > should handle opening a cash session
DEBUG: handleOpenSession called 100
DEBUG: mutateAsync completed

stdout | src/pages/cash/__tests__/CashControlPage.test.tsx > CashControlPage > should handle session opening failure
DEBUG: handleOpenSession called 100

stderr | src/pages/cash/__tests__/CashControlPage.test.tsx > CashControlPage > should handle session opening failure
Error: Open Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/cash/__tests__/CashControlPage.test.tsx:124:7
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runNextTicks (node:internal/process/task_queues:60:5)
    at listOnTimeout (node:internal/timers:545:9)
    at processTimers (node:internal/timers:519:7)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)

stdout | src/__tests__/AuditFlows.test.tsx > Audit: Critical Flows Integration > Flow: Full Cash Control Cycle
[Tauri] Invoking get_current_cash_session undefined
[MOCK INVOKE] get_current_cash_session 
[Invoke Result] get_current_cash_session: null

stdout | src/__tests__/AuditFlows.test.tsx > Audit: Critical Flows Integration > Flow: Full Cash Control Cycle
DEBUG: handleOpenSession called 100.00
[Tauri] Invoking open_cash_session { input: { openingBalance: 100, employeeId: 'admin-1' } }
[MOCK INVOKE] open_cash_session {"input":{"openingBalance":100,"employeeId":"admin-1"}}
[Invoke Result] open_cash_session: {
  id: 'sess-1768789495865',
  status: 'OPEN',
  openingBalance: 100,
  openedAt: '2026-01-19T02:24:55.865Z',
  current_balance: 100
}
[Tauri] Invoking get_current_cash_session undefined
[MOCK INVOKE] get_current_cash_session 
[Invoke Result] get_current_cash_session: {
  id: 'sess-1768789495865',
  status: 'OPEN',
  openingBalance: 100,
  openedAt: '2026-01-19T02:24:55.865Z',
  current_balance: 100
}
DEBUG: mutateAsync completed
[Tauri] Invoking get_session_movements { sessionId: 'sess-1768789495865' }
[MOCK INVOKE] get_session_movements {"sessionId":"sess-1768789495865"}
[Tauri] Invoking get_cash_session_summary { sessionId: 'sess-1768789495865' }
[MOCK INVOKE] get_cash_session_summary {"sessionId":"sess-1768789495865"}
DEBUG: Computing summary. Movements count: 0
[Invoke Result] get_session_movements: []
[Invoke Result] get_cash_session_summary: {
  session: {
    id: 'sess-1768789495865',
    status: 'OPEN',
    openingBalance: 100,
    openedAt: '2026-01-19T02:24:55.865Z',
    current_balance: 100
  },
  totalSales: 0,
  totalSupplies: 0,
  totalWithdrawals: 0,
  cashInDrawer: 100,
  movements: [],
  salesByMethod: []
}

stdout | src/__tests__/AuditFlows.test.tsx > Audit: Critical Flows Integration > Flow: Full Cash Control Cycle
[Tauri] Invoking add_cash_movement {
  input: {
    sessionId: 'sess-1768789495865',
    movementType: 'SUPPLY',
    amount: 50,
    description: 'Audit Supply'
  }
}
[MOCK INVOKE] add_cash_movement {"input":{"sessionId":"sess-1768789495865","movementType":"SUPPLY","amount":50,"description":"Audit Supply"}}
DEBUG: Added movement. New size: 1
[Invoke Result] add_cash_movement: null
[Tauri] Invoking get_current_cash_session undefined
[MOCK INVOKE] get_current_cash_session 
[Tauri] Invoking get_cash_session_summary { sessionId: 'sess-1768789495865' }
[MOCK INVOKE] get_cash_session_summary {"sessionId":"sess-1768789495865"}
DEBUG: Computing summary. Movements count: 1
[Tauri] Invoking get_session_movements { sessionId: 'sess-1768789495865' }
[MOCK INVOKE] get_session_movements {"sessionId":"sess-1768789495865"}
[Invoke Result] get_current_cash_session: {
  id: 'sess-1768789495865',
  status: 'OPEN',
  openingBalance: 100,
  openedAt: '2026-01-19T02:24:55.865Z',
  current_balance: 100
}
[Invoke Result] get_cash_session_summary: {
  session: {
    id: 'sess-1768789495865',
    status: 'OPEN',
    openingBalance: 100,
    openedAt: '2026-01-19T02:24:55.865Z',
    current_balance: 100
  },
  totalSales: 0,
  totalSupplies: 50,
  totalWithdrawals: 0,
  cashInDrawer: 150,
  movements: [
    {
      id: 'mov-1768789495990',
      sessionId: 'sess-1768789495865',
      type: 'DEPOSIT',
      amount: 50,
      description: 'Audit Supply',
      createdAt: '2026-01-19T02:24:55.990Z'
    }
  ],
  salesByMethod: []
}
[Invoke Result] get_session_movements: [
  {
    id: 'mov-1768789495990',
    sessionId: 'sess-1768789495865',
    type: 'DEPOSIT',
    amount: 50,
    description: 'Audit Supply',
    createdAt: '2026-01-19T02:24:55.990Z'
  }
]

stderr | src/pages/cash/__tests__/CashControlPage.test.tsx > CashControlPage > should handle movement registration failure
Error: API Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/cash/__tests__/CashControlPage.test.tsx:290:34
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11

 ✓ src/hooks/__tests__/useDashboard.test.tsx (7 tests) 439ms
stdout | src/__tests__/AuditFlows.test.tsx > Audit: Critical Flows Integration > Flow: Full Cash Control Cycle
[Tauri] Invoking add_cash_movement {
  input: {
    sessionId: 'sess-1768789495865',
    movementType: 'BLEED',
    amount: 30,
    description: 'Audit Bleed'
  }
}
[MOCK INVOKE] add_cash_movement {"input":{"sessionId":"sess-1768789495865","movementType":"BLEED","amount":30,"description":"Audit Bleed"}}
DEBUG: Added movement. New size: 2
[Invoke Result] add_cash_movement: null
[Tauri] Invoking get_current_cash_session undefined
[MOCK INVOKE] get_current_cash_session 
[Tauri] Invoking get_cash_session_summary { sessionId: 'sess-1768789495865' }
[MOCK INVOKE] get_cash_session_summary {"sessionId":"sess-1768789495865"}
DEBUG: Computing summary. Movements count: 2
[Tauri] Invoking get_session_movements { sessionId: 'sess-1768789495865' }
[MOCK INVOKE] get_session_movements {"sessionId":"sess-1768789495865"}
[Invoke Result] get_current_cash_session: {
  id: 'sess-1768789495865',
  status: 'OPEN',
  openingBalance: 100,
  openedAt: '2026-01-19T02:24:55.865Z',
  current_balance: 100
}
[Invoke Result] get_cash_session_summary: {
  session: {
    id: 'sess-1768789495865',
    status: 'OPEN',
    openingBalance: 100,
    openedAt: '2026-01-19T02:24:55.865Z',
    current_balance: 100
  },
  totalSales: 0,
  totalSupplies: 50,
  totalWithdrawals: 30,
  cashInDrawer: 120,
  movements: [
    {
      id: 'mov-1768789495990',
      sessionId: 'sess-1768789495865',
      type: 'DEPOSIT',
      amount: 50,
      description: 'Audit Supply',
      createdAt: '2026-01-19T02:24:55.990Z'
    },
    {
      id: 'mov-1768789496101',
      sessionId: 'sess-1768789495865',
      type: 'WITHDRAWAL',
      amount: 30,
      description: 'Audit Bleed',
      createdAt: '2026-01-19T02:24:56.101Z'
    }
  ],
  salesByMethod: []
}
[Invoke Result] get_session_movements: [
  {
    id: 'mov-1768789495990',
    sessionId: 'sess-1768789495865',
    type: 'DEPOSIT',
    amount: 50,
    description: 'Audit Supply',
    createdAt: '2026-01-19T02:24:55.990Z'
  },
  {
    id: 'mov-1768789496101',
    sessionId: 'sess-1768789495865',
    type: 'WITHDRAWAL',
    amount: 30,
    description: 'Audit Bleed',
    createdAt: '2026-01-19T02:24:56.101Z'
  }
]

stdout | src/__tests__/AuditFlows.test.tsx > Audit: Critical Flows Integration > UX: Product Form should have autoComplete='off'
[Tauri] Invoking get_categories undefined
[MOCK INVOKE] get_categories 
[Invoke Result] get_categories: []

 ✓ src/pages/cash/__tests__/CashControlPage.test.tsx (11 tests) 980ms
 ✓ src/hooks/__tests__/usePDV.test.tsx (10 tests) 517ms
 ✓ src/__tests__/AuditFlows.test.tsx (2 tests) 689ms
   ✓ Audit: Critical Flows Integration > Flow: Full Cash Control Cycle 544ms
stderr | src/pages/products/__tests__/CategoriesPage.test.tsx > CategoriesPage > Error States > should handle creation failure
Erro ao criar categoria: Error: Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/products/__tests__/CategoriesPage.test.tsx:250:52
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)

stderr | src/pages/products/__tests__/CategoriesPage.test.tsx > CategoriesPage > Error States > should handle deactivation failure
Erro ao processar ação na categoria: Error: Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/products/__tests__/CategoriesPage.test.tsx:268:52
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)

stderr | src/pages/products/__tests__/CategoriesPage.test.tsx > CategoriesPage > Error States > should handle reactivation failure
Erro ao processar ação na categoria: Error: Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/products/__tests__/CategoriesPage.test.tsx:285:52
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)

 ✓ src/pages/products/__tests__/CategoriesPage.test.tsx (13 tests) 2086ms
   ✓ CategoriesPage > should create a new category 524ms
   ✓ CategoriesPage > Error States > should handle creation failure 353ms
 ✓ src/hooks/__tests__/useSuppliers.test.tsx (10 tests) 305ms
 ✓ src/pages/pdv/__tests__/PDVPage.test.tsx (12 tests) 2114ms
   ✓ PDVPage > should handle F shortcuts 358ms
   ✓ PDVPage > should handle quantity and discount confirmations via mouse with comma/dot logic 334ms
   ✓ PDVPage > should handle invalid quantity/discount inputs 633ms
 ✓ src/hooks/__tests__/useCategories.test.tsx (12 tests) 620ms
stderr | src/components/motoparts/__tests__/ProductCompatibilityEditor.test.tsx > ProductCompatibilityEditor > should handle removal confirmation
Warning: Missing `Description` or `aria-describedby={undefined}` for {AlertDialogContent}.

 ✓ src/components/motoparts/__tests__/ProductCompatibilityEditor.test.tsx (11 tests) 695ms
   ✓ ProductCompatibilityEditor > should handle removal confirmation 381ms
 ✓ src/hooks/__tests__/useStock.test.tsx (9 tests) 535ms
 ✓ src/hooks/__tests__/useCustomers.test.ts (11 tests) 498ms
   ✓ useCustomers hooks > useCustomerSearch > should perform debounced search 307ms
stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > isTauriRuntime > should return true when window.__TAURI__ is defined
[Tauri] Invoking get_products { filter: undefined }
[Invoke Result] get_products: []

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > isTauriRuntime > should return false when window.__TAURI__ is undefined
[WebMock] Invoking get_products (MOCK MODE ACTIVE) { filter: undefined }

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > tauriInvoke (Tauri path) > should call tauriCoreInvoke when in Tauri runtime
[Tauri] Invoking get_products { filter: undefined }
[Invoke Result] get_products: [ { id: '1', name: 'Product 1' } ]

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should authenticate employee correctly
[Invoke Result] authenticate_employee: null

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should authenticate employee correctly
[WebMock] Invoking authenticate_employee (MOCK MODE ACTIVE) { pin: '8899' }

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should return null for invalid pin
[Invoke Result] authenticate_employee: null

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should return null for invalid pin
[WebMock] Invoking authenticate_employee (MOCK MODE ACTIVE) { pin: 'wrong' }

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should check if admin exists
[Invoke Result] has_admin: false

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should check if admin exists
[WebMock] Invoking has_admin (MOCK MODE ACTIVE) undefined

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should get current cash session (null initially)
[Invoke Result] get_current_cash_session: null

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should get current cash session (null initially)
[WebMock] Invoking get_current_cash_session (MOCK MODE ACTIVE) undefined

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should open and close a cash session
[Invoke Result] get_employees: []

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should open and close a cash session
[WebMock] Invoking get_employees (MOCK MODE ACTIVE) undefined

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should add cash movements and get summary
[Invoke Result] get_employees: []

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should add cash movements and get summary
[WebMock] Invoking get_employees (MOCK MODE ACTIVE) undefined

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should throw error for unsupported command in mock
[WebMock] Invoking get_products (MOCK MODE ACTIVE) { filter: undefined }

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should throw error if opening session when one is already open
[Invoke Result] get_employees: []

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should throw error if opening session when one is already open
[WebMock] Invoking get_employees (MOCK MODE ACTIVE) undefined

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > All other wrappers > should call tauriInvoke for various commands
[Tauri] Invoking get_products { filter: {} }
[Invoke Result] get_products: {}
[Tauri] Invoking get_product_by_id { id: '1' }
[Invoke Result] get_product_by_id: {}
[Tauri] Invoking search_products { query: 'test' }
[Invoke Result] search_products: {}
[Tauri] Invoking get_categories undefined
[Invoke Result] get_categories: {}
[Tauri] Invoking get_sales { filter: undefined }
[Invoke Result] get_sales: {}
[Tauri] Invoking get_alerts { limit: 100 }
[Invoke Result] get_alerts: {}
[Tauri] Invoking get_all_settings undefined
[Invoke Result] get_all_settings: {}
[Tauri] Invoking print_receipt { saleId: 'sale-1' }
[Invoke Result] print_receipt: {}

 ✓ src/pages/suppliers/__tests__/SuppliersPage.test.tsx (7 tests) 2448ms
   ✓ SuppliersPage > should create a new supplier 799ms
   ✓ SuppliersPage > should show validation errors for invalid inputs 420ms
   ✓ SuppliersPage > should edit a supplier and handle optional fields omission 360ms
   ✓ SuppliersPage > should filter by search text (name, tradeName, cnpj) 608ms
 ❯ src/lib/__tests__/tauri.test.ts (12 tests | 5 failed) 38ms
   × tauri.ts > webMockInvoke (Web path) > should authenticate employee correctly 9ms
     → expected null not to be null
   × tauri.ts > webMockInvoke (Web path) > should check if admin exists 3ms
     → expected false to be true // Object.is equality
   × tauri.ts > webMockInvoke (Web path) > should open and close a cash session 1ms
     → Cannot read properties of undefined (reading 'id')
   × tauri.ts > webMockInvoke (Web path) > should add cash movements and get summary 1ms
     → Cannot read properties of undefined (reading 'id')
   × tauri.ts > webMockInvoke (Web path) > should throw error if opening session when one is already open 1ms
     → Cannot read properties of undefined (reading 'id')
stdout | src/stores/__tests__/license-store.test.ts > license-store > should hydrate from disk successfully
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: {
  key: 'disk-key',
  info: { status: 'active', license_key: 'disk-key' },
  last_validated_at: '2026-01-19T02:24:58.875Z'
}
[LicenseStore] Within grace period, setting state to valid

stdout | src/stores/__tests__/license-store.test.ts > license-store > should handle missing license on disk
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed

stdout | src/stores/__tests__/license-store.test.ts > license-store > should handle disk hydration error
[LicenseStore] Hydrating from disk...

stderr | src/stores/__tests__/license-store.test.ts > license-store > should handle disk hydration error
[LicenseStore] Failed to hydrate license from disk: Error: Disk error
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/stores/__tests__/license-store.test.ts:185:51
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)

 ✓ src/stores/__tests__/license-store.test.ts (11 tests) 48ms
stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should show loading state on mount
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should render activation form when no license exists
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.
[LicenseActivationPage] Showing loading screen (isValidating=true)

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should render activation form when no license exists
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should format license key during typing
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.
[LicenseActivationPage] Showing loading screen (isValidating=true)

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should format license key during typing
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should handle successful activation
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.
[LicenseActivationPage] Activation success, redirecting in 1.5s...

 ✓ src/pages/products/__tests__/ProductsPage.test.tsx (17 tests) 4180ms
   ✓ ProductsPage > should render products and handle search with debounce 871ms
   ✓ ProductsPage > should handle search with barcode 701ms
   ✓ ProductsPage > should show empty state when search returns nothing 776ms
stderr | src/components/motoparts/__tests__/WarrantyDetails.test.tsx > WarrantyDetails > should handle resolve error gracefully
Erro ao resolver garantia: Error: Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/components/motoparts/__tests__/WarrantyDetails.test.tsx:213:40
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)

 ✓ src/components/motoparts/__tests__/WarrantyDetails.test.tsx (9 tests) 1015ms
 ✓ src/components/motoparts/__tests__/ServiceOrderDetails.test.tsx (8 tests) 1249ms
   ✓ ServiceOrderDetails > should handle start action 333ms
 ✓ src/components/tutorial/__tests__/tutorial-store.test.ts (15 tests) 17ms
 ✓ src/lib/__tests__/utils.test.ts (35 tests) 53ms
 ✓ tests/unit/hardware/scanner.mock.test.ts (15 tests) 16ms
stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should render login page
[LoginPage] Mounted

stderr | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should render login page
Warning: validateDOMNesting(...): <p> cannot appear as a descendant of <p>.
    at p
    at p
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/components/ui/card.tsx:64:61
    at div
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/components/ui/card.tsx:27:56
    at div
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/components/ui/card.tsx:7:50
    at div
    at LoginPage (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/auth/LoginPage.tsx:22:47)
    at Router (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1101:7)

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should render PIN display with 6 slots
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should render numeric keypad
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should render clear (C) button
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should render backspace (←) button
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should render login button disabled initially
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should enable login button after 4 digits
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should clear PIN when C is clicked
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should remove last digit when ← is clicked
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should show error for short PIN
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should call authenticateEmployee on login
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should navigate to dashboard on successful login
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should show error for invalid PIN
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should show system version
[LoginPage] Mounted

 ✓ src/pages/auth/__tests__/LoginPage.test.tsx (14 tests) 1662ms
stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should handle successful activation
[LicenseActivationPage] Executing navigate to /

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should redirect to /setup after activation if has_admin is false
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.
[LicenseActivationPage] Activation success, redirecting in 1.5s...

 ✓ src/hooks/__tests__/use-products.test.tsx (11 tests) 397ms
 ✓ src/components/pdv/__tests__/NumPad.test.tsx (19 tests) 909ms
   ✓ NumPad > rendering > should render all number buttons 304ms
 ✓ src/components/ui/__tests__/Card.test.tsx (21 tests) 169ms
 ✓ src/hooks/__tests__/useAlerts.test.tsx (8 tests) 491ms
 ✓ src/hooks/__tests__/useCashSession.test.tsx (7 tests) 436ms
stderr | src/components/motoparts/__tests__/WarrantyForm.test.tsx > WarrantyForm > should show error toast on failure
Erro ao registrar garantia: Error: Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/components/motoparts/__tests__/WarrantyForm.test.tsx:148:46
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11

 ✓ src/pages/stock/__tests__/ExpirationPage.test.tsx (6 tests) 418ms
 ✓ src/components/motoparts/__tests__/WarrantyForm.test.tsx (5 tests) 719ms
 ✓ src/pages/settings/__tests__/SettingsPage.test.tsx (6 tests) 1621ms
   ✓ SettingsPage > should switch between all tabs 529ms
stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should redirect to /setup after activation if has_admin is false
[LicenseActivationPage] Executing navigate to /setup

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should redirect to / after activation if has_admin is true
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.
[LicenseActivationPage] Activation success, redirecting in 1.5s...

 ✓ src/pages/stock/__tests__/StockMovementsPage.test.tsx (7 tests) 449ms
 ✓ src/components/ui/__tests__/Button.test.tsx (23 tests) 279ms
 ✓ tests/unit/hardware/scale.mock.test.ts (18 tests) 17ms
 ✓ src/pages/dashboard/__tests__/DashboardPage.test.tsx (7 tests) 438ms
 ✓ src/hooks/__tests__/useKeyboard.test.tsx (11 tests) 44ms
 ✓ src/hooks/__tests__/usePriceHistory.test.tsx (14 tests) 326ms
stderr | src/__tests__/App.test.tsx > App > should redirect to /setup if no admin exists
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
The above error occurred in the <App> component:

    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:190:3)
    at Router (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1101:7)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/__tests__/App.test.tsx > App > should redirect to /login if NOT authenticated in ProtectedRoute
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
The above error occurred in the <App> component:

    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:190:3)
    at Router (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1101:7)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/__tests__/App.test.tsx > App > should handle F1 hotkey to navigate to tutorials
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
The above error occurred in the <App> component:

    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:190:3)
    at Router (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1101:7)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/__tests__/App.test.tsx > App > should show loading state in AdminCheck
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
The above error occurred in the <App> component:

    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:190:3)
    at Router (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1101:7)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/__tests__/App.test.tsx > App > should respect role-based access in ProtectedRoute
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
The above error occurred in the <App> component:

    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:190:3)
    at Router (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1101:7)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/__tests__/App.test.tsx > App > should redirect to wizard from RootRedirect when not configured
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
The above error occurred in the <App> component:

    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:190:3)
    at Router (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1101:7)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/__tests__/App.test.tsx > App > should handle WizardRoute redirect to PDV when already configured
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
Error: Uncaught [Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
]
    at reportException (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/execute.2pr0rHgK.js:389:22)
    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:153:6)
    at renderWithHooks (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/jsdom@25.0.1/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3) {
  codeFrame: 'vi.mock(import("@/components/guards"), async (importOriginal) => {\n' +
    '  const actual = await importOriginal()\n' +
    '  return {\n' +
    '    ...actual,\n' +
    '    // your mocked methods\n' +
    '  }\n' +
    '})'
}
The above error occurred in the <App> component:

    at App (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/App.tsx:190:3)
    at Router (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1101:7)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

 ❯ src/__tests__/App.test.tsx (7 tests | 7 failed) 96ms
   × App > should redirect to /setup if no admin exists 59ms
     → [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   × App > should redirect to /login if NOT authenticated in ProtectedRoute 6ms
     → [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   × App > should handle F1 hotkey to navigate to tutorials 6ms
     → [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   × App > should show loading state in AdminCheck 5ms
     → [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   × App > should respect role-based access in ProtectedRoute 5ms
     → [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   × App > should redirect to wizard from RootRedirect when not configured 5ms
     → [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

   × App > should handle WizardRoute redirect to PDV when already configured 5ms
     → [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

 ✓ src/components/nfce/__tests__/ContingencyManager.test.tsx (5 tests) 303ms
stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should redirect to / after activation if has_admin is true
[LicenseActivationPage] Executing navigate to /

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should handle activation error
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.

stderr | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should handle activation error
License initialization timed out, showing form.

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should redirect if valid license is found on mount
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Post-hydration: key=EXISTING-KEY, state=valid
[LicenseActivationPage] Valid license or within grace period, proceeding to root
[LicenseActivationPage] Showing loading screen (isValidating=true)

 ✓ tests/integration/sale.flow.test.ts (6 tests) 7ms
 ✓ src/pages/license/__tests__/LicenseActivationPage.test.tsx (8 tests) 5172ms
   ✓ LicenseActivationPage > should handle successful activation 1591ms
   ✓ LicenseActivationPage > should redirect to /setup after activation if has_admin is false 1581ms
   ✓ LicenseActivationPage > should redirect to / after activation if has_admin is true 1627ms
 ✓ src/pages/reports/__tests__/SalesReportPage.test.tsx (9 tests) 775ms
 ✓ tests/unit/hardware/printer.mock.test.ts (13 tests) 8ms
 ✓ src/components/ui/__tests__/Input.test.tsx (19 tests) 162ms
 ✓ src/pages/employees/__tests__/EmployeesPage.test.tsx (7 tests) 2152ms
   ✓ EmployeesPage > should create a new employee 545ms
   ✓ EmployeesPage > should edit an employee 528ms
 ✓ src/hooks/__tests__/useServiceOrders.test.tsx (8 tests) 147ms
 ✓ tests/integration/cash.flow.test.ts (6 tests) 10ms
 ✓ src/pages/stock/__tests__/StockPage.test.tsx (7 tests) 417ms
 ✓ src/components/tutorial/__tests__/useTutorial.test.tsx (9 tests) 51ms
 ✓ src/hooks/__tests__/useVehicles.test.tsx (6 tests) 444ms
 ✓ src/components/motoparts/__tests__/ServiceOrderList.test.tsx (7 tests) 471ms
 ✓ src/hooks/__tests__/use-toast.test.ts (9 tests) 64ms
 ✓ src/pages/reports/__tests__/ReportsPage.test.tsx (3 tests) 782ms
   ✓ ReportsPage > should render all report category cards with correct links 443ms
stdout | src/pages/setup/__tests__/InitialSetupPage.test.tsx > InitialSetupPage > should complete setup and call updateLicenseAdmin
[Setup] Syncing admin to license server...
[Setup] Admin synced successfully
[Setup] has-admin query invalidated

 ✓ src/components/shared/__tests__/FeatureGate.test.tsx (7 tests) 78ms
 ✓ src/pages/setup/__tests__/InitialSetupPage.test.tsx (3 tests) 288ms
 ✓ src/components/motoparts/__tests__/MotopartsDashboard.test.tsx (3 tests) 291ms
 ✓ src/stores/__tests__/auth-store.test.ts (7 tests) 15ms
 ✓ src/lib/__tests__/design-tokens.test.ts (15 tests) 14ms
 ✓ src/hooks/__tests__/useWarranties.test.tsx (6 tests) 113ms
 ✓ src/components/layout/__tests__/Sidebar.test.tsx (9 tests) 713ms
stderr | src/pages/products/__tests__/ProductFormPage.test.tsx > ProductFormPage > Create Mode > should render page title for new product
[WebMock] Invoking get_categories (MOCK MODE ACTIVE) undefined

stderr | src/pages/products/__tests__/ProductFormPage.test.tsx > ProductFormPage > Create Mode > should render save button
[WebMock] Invoking get_categories (MOCK MODE ACTIVE) undefined

stderr | src/pages/products/__tests__/ProductFormPage.test.tsx > ProductFormPage > Create Mode > should render form inputs
[WebMock] Invoking get_categories (MOCK MODE ACTIVE) undefined

stderr | src/pages/products/__tests__/ProductFormPage.test.tsx > ProductFormPage > Validation > should show error when submitting without name
[WebMock] Invoking get_categories (MOCK MODE ACTIVE) undefined

 ✓ src/pages/products/__tests__/ProductFormPage.test.tsx (4 tests) 980ms
   ✓ ProductFormPage > Create Mode > should render page title for new product 507ms
 ✓ src/components/motoparts/__tests__/VehicleSelector.test.tsx (5 tests) 862ms
   ✓ VehicleSearch > should search and select vehicle 597ms
 ✓ src/pages/stock/__tests__/StockEntryPage.test.tsx (4 tests) 1141ms
   ✓ StockEntryPage > should allow searching and selecting a product 472ms
   ✓ StockEntryPage > should submit stock entry with all fields 530ms
 ✓ src/hooks/__tests__/useAuth.test.tsx (4 tests) 271ms
 ✓ src/components/pdv/__tests__/CartItemRow.test.tsx (10 tests) 349ms
 ✓ src/hooks/__tests__/useEmployees.test.ts (6 tests) 160ms
 ✓ src/stores/__tests__/useBusinessProfile.test.ts (9 tests) 31ms
 ✓ src/components/motoparts/__tests__/CustomerSearch.test.tsx (5 tests) 410ms
 ✓ src/components/pdv/__tests__/ProductCard.test.tsx (11 tests) 255ms
 ✓ src/components/ui/__tests__/Badge.test.tsx (12 tests) 120ms
 ✓ tests/unit/utils/validators.test.ts (11 tests) 19ms
 ✓ src/components/ui/__tests__/Switch.test.tsx (11 tests) 295ms
 ✓ src/components/motoparts/__tests__/ServiceOrderManager.test.tsx (1 test) 111ms
 ✓ src/components/pdv/__tests__/PaymentModal.test.tsx (3 tests) 507ms
 ✓ src/components/motoparts/__tests__/WarrantyManager.test.tsx (1 test) 97ms
 ✓ src/components/tutorial/__tests__/TutorialHub.test.tsx (6 tests) 407ms
 ✓ src/components/layout/__tests__/Header.test.tsx (7 tests) 281ms
 ✓ src/components/layout/__tests__/Footer.test.tsx (5 tests) 280ms
 ✓ src/components/layout/__tests__/AppShell.test.tsx (4 tests) 129ms
 ✓ src/pages/alerts/__tests__/AlertsPage.test.tsx (3 tests) 241ms
 ✓ src/components/pdv/__tests__/SaleReceipt.test.tsx (2 tests) 121ms
 ✓ src/components/motoparts/__tests__/WarrantyList.test.tsx (2 tests) 186ms
 ✓ src/pages/motoparts/__tests__/WarrantiesPage.test.tsx (1 test) 25ms
 ✓ src/components/shared/__tests__/LoadingPage.test.tsx (3 tests) 55ms
 ✓ src/pages/motoparts/__tests__/ServiceOrdersPage.test.tsx (1 test) 23ms

⎯⎯⎯⎯⎯⎯ Failed Tests 12 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  src/__tests__/App.test.tsx > App > should redirect to /setup if no admin exists
 FAIL  src/__tests__/App.test.tsx > App > should redirect to /login if NOT authenticated in ProtectedRoute
 FAIL  src/__tests__/App.test.tsx > App > should handle F1 hotkey to navigate to tutorials
 FAIL  src/__tests__/App.test.tsx > App > should show loading state in AdminCheck
 FAIL  src/__tests__/App.test.tsx > App > should respect role-based access in ProtectedRoute
 FAIL  src/__tests__/App.test.tsx > App > should redirect to wizard from RootRedirect when not configured
 FAIL  src/__tests__/App.test.tsx > App > should handle WizardRoute redirect to PDV when already configured
Error: [vitest] No "SessionGuard" export is defined on the "@/components/guards" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("@/components/guards"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 ❯ App src/App.tsx:153:6
    151| 
    152|   return (
    153|     <SessionGuard timeoutMinutes={30}>
       |      ^
    154|       <NavigationLogger />
    155|       <GlobalSetupGate>
 ❯ renderWithHooks node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ beginWork$1 node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27465:14
 ❯ performUnitOfWork node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12
 ❯ workLoopSync node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26505:5
 ❯ renderRootSync node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26473:7

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/12]⎯

 FAIL  src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should authenticate employee correctly
AssertionError: expected null not to be null
 ❯ src/lib/__tests__/tauri.test.ts:83:28
     81|     it('should authenticate employee correctly', async () => {
     82|       const employee = await tauriLib.authenticateEmployee('8899');
     83|       expect(employee).not.toBeNull();
       |                            ^
     84|       expect(employee?.name).toBe('Admin');
     85|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/12]⎯

 FAIL  src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should check if admin exists
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ src/lib/__tests__/tauri.test.ts:94:22
     92|     it('should check if admin exists', async () => {
     93|       const exists = await tauriLib.hasAdmin();
     94|       expect(exists).toBe(true);
       |                      ^
     95|     });
     96| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/12]⎯

 FAIL  src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should open and close a cash session
TypeError: Cannot read properties of undefined (reading 'id')
 ❯ src/lib/__tests__/tauri.test.ts:104:36
    102|     it('should open and close a cash session', async () => {
    103|       const employees = await tauriLib.getEmployees();
    104|       const adminId = employees[0].id;
       |                                    ^
    105| 
    106|       const session = await tauriLib.openCashSession({

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[4/12]⎯

 FAIL  src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should add cash movements and get summary
TypeError: Cannot read properties of undefined (reading 'id')
 ❯ src/lib/__tests__/tauri.test.ts:131:36
    129|     it('should add cash movements and get summary', async () => {
    130|       const employees = await tauriLib.getEmployees();
    131|       const adminId = employees[0].id;
       |                                    ^
    132| 
    133|       const session = await tauriLib.openCashSession({

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[5/12]⎯

 FAIL  src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should throw error if opening session when one is already open
TypeError: Cannot read properties of undefined (reading 'id')
 ❯ src/lib/__tests__/tauri.test.ts:164:36
    162|     it('should throw error if opening session when one is already open…
    163|       const employees = await tauriLib.getEmployees();
    164|       const adminId = employees[0].id;
       |                                    ^
    165| 
    166|       await tauriLib.openCashSession({ employeeId: adminId, openingBal…

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[6/12]⎯

 Test Files  2 failed | 88 passed (90)
      Tests  12 failed | 897 passed (909)
   Start at  22:24:52
   Duration  19.96s (transform 4.76s, setup 11.99s, collect 43.34s, tests 48.21s, environment 61.05s, prepare 11.64s)

