
 RUN  v2.1.9 /home/jhonslife/GIRO/apps/desktop
      Coverage enabled with v8

 ✓ tests/unit/utils/formatters.test.ts (51 tests) 415ms
 ✓ src/hooks/__tests__/useSales.test.tsx (15 tests) 816ms
 ✓ src/stores/__tests__/alert-store.test.ts (14 tests) 72ms
 ✓ src/lib/__tests__/formatters.test.ts (48 tests) 313ms
 ✓ src/hooks/__tests__/useDashboard.test.tsx (7 tests) 937ms
   ✓ useDashboardStats > should fetch dashboard stats successfully 508ms
 ✓ src/stores/__tests__/settings-store.test.ts (20 tests) 14ms
stderr | src/components/motoparts/__tests__/ServiceOrderForm.test.tsx > ServiceOrderForm > should show toast on submission error
Erro ao criar ordem de serviço: Error: API Fail
    at /home/jhonslife/GIRO/apps/desktop/src/components/motoparts/__tests__/ServiceOrderForm.test.tsx:248:43
    at file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)
    at file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.3_@vitest+ui@4.0.16_jsdom@25.0.1/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11

 ✓ src/components/motoparts/__tests__/ServiceOrderForm.test.tsx (5 tests) 1702ms
   ✓ ServiceOrderForm > should auto-populate KM when vehicle is selected 307ms
   ✓ ServiceOrderForm > should show toast if employee is not logged in 384ms
   ✓ ServiceOrderForm > should show toast on submission error 493ms
 ✓ src/hooks/__tests__/usePDV.test.tsx (10 tests) 795ms
stdout | src/pages/cash/__tests__/CashControlPage.test.tsx > CashControlPage > should handle adding a cash movement (Suprimento)
Clicking confirm-supply

 ✓ src/pages/cash/__tests__/CashControlPage.test.tsx (6 tests) 4731ms
   ✓ CashControlPage > should render "Cash Closed" state when no session exists 627ms
   ✓ CashControlPage > should handle opening a cash session 1695ms
   ✓ CashControlPage > should render dashboard when session is open 418ms
   ✓ CashControlPage > should handle adding a cash movement (Suprimento) 993ms
   ✓ CashControlPage > should handle closing a cash session 764ms
 ✓ src/hooks/__tests__/useCategories.test.tsx (12 tests) 947ms
stderr | src/pages/products/__tests__/CategoriesPage.test.tsx > CategoriesPage > Error States > should handle creation failure
Erro ao criar categoria: Error: Fail
    at /home/jhonslife/GIRO/apps/desktop/src/pages/products/__tests__/CategoriesPage.test.tsx:250:52
    at file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)

 ✓ src/hooks/__tests__/useSuppliers.test.tsx (10 tests) 848ms
   ✓ useSuppliers Hooks > useSuppliers > should fetch active suppliers 418ms
 ✓ src/hooks/__tests__/useCustomers.test.ts (11 tests) 962ms
   ✓ useCustomers hooks > useCustomerSearch > should perform debounced search 358ms
stderr | src/pages/products/__tests__/CategoriesPage.test.tsx > CategoriesPage > Error States > should handle deactivation failure
Erro ao processar ação na categoria: Error: Fail
    at /home/jhonslife/GIRO/apps/desktop/src/pages/products/__tests__/CategoriesPage.test.tsx:268:52
    at file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)

 ✓ src/hooks/__tests__/useStock.test.tsx (9 tests) 678ms
 ✓ src/pages/pdv/__tests__/PDVPage.test.tsx (9 tests) 8237ms
   ✓ PDVPage > should render PDV and handle search interactions 541ms
   ✓ PDVPage > should handle weighted product selection 339ms
   ✓ PDVPage > should handle F shortcuts 1213ms
   ✓ PDVPage > should handle quantity and discount confirmations via mouse with comma/dot logic 1607ms
   ✓ PDVPage > should handle invalid quantity/discount inputs 3325ms
   ✓ PDVPage > should open payment modal via buttons 529ms
stderr | src/pages/products/__tests__/CategoriesPage.test.tsx > CategoriesPage > Error States > should handle reactivation failure
Erro ao processar ação na categoria: Error: Fail
    at /home/jhonslife/GIRO/apps/desktop/src/pages/products/__tests__/CategoriesPage.test.tsx:285:52
    at file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)

 ✓ src/pages/products/__tests__/CategoriesPage.test.tsx (13 tests) 10982ms
   ✓ CategoriesPage > should render active categories by default 831ms
   ✓ CategoriesPage > should create a new category 2742ms
   ✓ CategoriesPage > should closeModal when clicking cancel in create dialog 667ms
   ✓ CategoriesPage > should deactivate a category 978ms
   ✓ CategoriesPage > should close confirm dialog when clicking cancel 817ms
   ✓ CategoriesPage > should reactivate an inactive category 402ms
   ✓ CategoriesPage > should show empty state and allow opening create dialog 457ms
   ✓ CategoriesPage > Error States > should handle creation failure 1877ms
   ✓ CategoriesPage > Error States > should handle deactivation failure 813ms
   ✓ CategoriesPage > Error States > should handle reactivation failure 865ms
 ✓ src/pages/suppliers/__tests__/SuppliersPage.test.tsx (7 tests) 12357ms
   ✓ SuppliersPage > should render active suppliers by default 530ms
   ✓ SuppliersPage > should create a new supplier 2722ms
   ✓ SuppliersPage > should show validation errors for invalid inputs 2548ms
   ✓ SuppliersPage > should edit a supplier and handle optional fields omission 2113ms
   ✓ SuppliersPage > should filter by search text (name, tradeName, cnpj) 3474ms
   ✓ SuppliersPage > should filter by status 799ms
stdout | src/stores/__tests__/license-store.test.ts > license-store > should hydrate from disk successfully
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: {
  key: 'disk-key',
  info: { status: 'active', license_key: 'disk-key' },
  last_validated_at: '2026-01-15T12:55:19.978Z'
}
[LicenseStore] Within grace period, setting state to valid

stdout | src/stores/__tests__/license-store.test.ts > license-store > should handle missing license on disk
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed

stdout | src/stores/__tests__/license-store.test.ts > license-store > should handle disk hydration error
[LicenseStore] Hydrating from disk...

stderr | src/stores/__tests__/license-store.test.ts > license-store > should handle disk hydration error
[LicenseStore] Failed to hydrate license from disk: Error: Disk error
    at /home/jhonslife/GIRO/apps/desktop/src/stores/__tests__/license-store.test.ts:185:51
    at file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at runSuite (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)

 ✓ src/stores/__tests__/license-store.test.ts (11 tests) 127ms
stderr | src/components/motoparts/__tests__/ProductCompatibilityEditor.test.tsx > ProductCompatibilityEditor > should handle removal confirmation
Warning: Missing `Description` or `aria-describedby={undefined}` for {AlertDialogContent}.

 ✓ src/hooks/__tests__/useProducts.test.tsx (15 tests) 1121ms
   ✓ useProducts hooks > Queries > useProducts should fetch products 307ms
 ✓ src/components/tutorial/__tests__/tutorial-store.test.ts (15 tests) 67ms
 ✓ src/pages/products/__tests__/ProductsPage.test.tsx (17 tests) 14328ms
   ✓ ProductsPage > should render products and handle search with debounce 1349ms
   ✓ ProductsPage > should handle search with barcode 1153ms
   ✓ ProductsPage > should filter by status 606ms
   ✓ ProductsPage > should handle product actions: Edit 434ms
   ✓ ProductsPage > should handle product actions: Duplicate 583ms
   ✓ ProductsPage > should handle product actions: Deactivate 1248ms
   ✓ ProductsPage > should handle product actions: Delete 692ms
   ✓ ProductsPage > should handle reactivate for inactive products 816ms
   ✓ ProductsPage > should show warning style for low stock 307ms
   ✓ ProductsPage > should show empty state when search returns nothing 1956ms
   ✓ ProductsPage > Error States > should handle deactivation failure 1385ms
   ✓ ProductsPage > Error States > should handle reactivation failure 1189ms
   ✓ ProductsPage > Error States > should handle duplication failure 620ms
   ✓ ProductsPage > Error States > should handle deletion failure 1565ms
 ✓ src/lib/__tests__/tauri.test.ts (12 tests) 126ms
 ✓ src/components/motoparts/__tests__/ProductCompatibilityEditor.test.tsx (11 tests) 3233ms
   ✓ ProductCompatibilityEditor > should handle removal confirmation 1565ms
   ✓ ProductCompatibilityEditor > should handle saving changes 592ms
   ✓ ProductCompatibilityEditor > should handle full selector flow: select and confirm 380ms
stderr | src/components/motoparts/__tests__/WarrantyDetails.test.tsx > WarrantyDetails > should handle resolve error gracefully
Erro ao resolver garantia: Error: Fail
    at /home/jhonslife/GIRO/apps/desktop/src/components/motoparts/__tests__/WarrantyDetails.test.tsx:213:40
    at file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at runSuite (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)

 ✓ src/components/motoparts/__tests__/WarrantyDetails.test.tsx (9 tests) 6054ms
   ✓ WarrantyDetails > should render warranty details in OPEN status 1622ms
   ✓ WarrantyDetails > should handle approve action 385ms
   ✓ WarrantyDetails > should handle deny action through dialog 829ms
   ✓ WarrantyDetails > should handle resolve action for APPROVED status 1373ms
   ✓ WarrantyDetails > should show error toast if not authenticated on approve 310ms
   ✓ WarrantyDetails > should handle resolve error gracefully 948ms
 ✓ src/lib/__tests__/utils.test.ts (35 tests) 399ms
 ✓ src/components/motoparts/__tests__/ServiceOrderDetails.test.tsx (8 tests) 7417ms
   ✓ ServiceOrderDetails > should render full order details 1004ms
   ✓ ServiceOrderDetails > should handle start action 1777ms
   ✓ ServiceOrderDetails > should handle cancel action 1739ms
   ✓ ServiceOrderDetails > should handle item removal 578ms
   ✓ ServiceOrderDetails > should handle print action 478ms
   ✓ ServiceOrderDetails > should handle complete action 1265ms
   ✓ ServiceOrderDetails > should handle deliver action 540ms
 ✓ tests/unit/hardware/scanner.mock.test.ts (15 tests) 113ms
 ✓ src/hooks/__tests__/useAlerts.test.tsx (8 tests) 910ms
   ✓ useAlertsQuery > should fetch alerts successfully 377ms
 ✓ src/stores/__tests__/pdv-store.test.ts (13 tests) 48ms
 ✓ src/pages/auth/__tests__/LoginPage.test.tsx (14 tests) 7921ms
   ✓ LoginPage > should render login page 567ms
   ✓ LoginPage > should render PIN display with 6 slots 431ms
   ✓ LoginPage > should render numeric keypad 913ms
   ✓ LoginPage > should enable login button after 4 digits 1056ms
   ✓ LoginPage > should clear PIN when C is clicked 765ms
   ✓ LoginPage > should remove last digit when ← is clicked 1354ms
   ✓ LoginPage > should show error for short PIN 463ms
   ✓ LoginPage > should call authenticateEmployee on login 968ms
   ✓ LoginPage > should navigate to dashboard on successful login 725ms
 ✓ src/hooks/__tests__/useCashSession.test.tsx (7 tests) 731ms
   ✓ Cash Session Hooks > useCashSession > should fetch current cash session 305ms
 ✓ src/pages/stock/__tests__/ExpirationPage.test.tsx (6 tests) 3299ms
   ✓ ExpirationPage > should render page title and stats 822ms
   ✓ ExpirationPage > should filter lots by status 1648ms
   ✓ ExpirationPage > should navigate back to stock 376ms
stderr | src/components/motoparts/__tests__/WarrantyForm.test.tsx > WarrantyForm > should show error toast on failure
Erro ao registrar garantia: Error: Fail
    at /home/jhonslife/GIRO/apps/desktop/src/components/motoparts/__tests__/WarrantyForm.test.tsx:148:46
    at file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)
    at file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.3_@vitest+ui@4.0.16_jsdom@25.0.1/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11

 ✓ src/components/motoparts/__tests__/WarrantyForm.test.tsx (5 tests) 5449ms
   ✓ WarrantyForm > should render the form 1298ms
   ✓ WarrantyForm > should search for products 1156ms
   ✓ WarrantyForm > should handle submission 1013ms
   ✓ WarrantyForm > should handle cancellation 466ms
   ✓ WarrantyForm > should show error toast on failure 1503ms
 ✓ src/components/ui/__tests__/Card.test.tsx (21 tests) 1266ms
   ✓ Card Components > Card > should render card element 373ms
   ✓ Card Components > CardTitle > should render as h3 heading 367ms
 ✓ src/components/pdv/__tests__/NumPad.test.tsx (19 tests) 4712ms
   ✓ NumPad > rendering > should render all number buttons 1869ms
   ✓ NumPad > rendering > should render control buttons 566ms
 ✓ src/pages/settings/__tests__/SettingsPage.test.tsx (6 tests) 7111ms
   ✓ SettingsPage > should render company settings by default 1498ms
   ✓ SettingsPage > should switch between all tabs 1564ms
   ✓ SettingsPage > should handle theme changes 827ms
   ✓ SettingsPage > should handle scanner and ports 1371ms
   ✓ SettingsPage > should handle printer and scale tests 1348ms
   ✓ SettingsPage > should handle save action 498ms
 ✓ src/pages/stock/__tests__/StockMovementsPage.test.tsx (7 tests) 1645ms
   ✓ StockMovementsPage > should render page contents 434ms
   ✓ StockMovementsPage > should filter movements by product name 602ms
 ✓ src/components/ui/__tests__/Button.test.tsx (23 tests) 1150ms
   ✓ Button > Rendering > should render button with text 388ms
 ✓ src/pages/dashboard/__tests__/DashboardPage.test.tsx (7 tests) 2361ms
   ✓ StatCard > should render trend and variant styles 451ms
   ✓ DashboardPage > should render stats and charts when loaded 367ms
   ✓ DashboardPage > should handle navigation to PDV 586ms
   ✓ DashboardPage > should handle quick actions navigation 728ms
stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should show loading state on mount
[LicenseActivationPage] Initializing...

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should render activation form when no license exists
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license found, requiring activation.

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should format license key during typing
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license found, requiring activation.

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should handle successful activation
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license found, requiring activation.

 ✓ src/hooks/__tests__/usePriceHistory.test.tsx (14 tests) 571ms
 ✓ src/hooks/__tests__/useKeyboard.test.tsx (11 tests) 237ms
 ✓ src/components/nfce/__tests__/ContingencyManager.test.tsx (5 tests) 973ms
   ✓ ContingencyManager > should handle transmission success 587ms
 ✓ tests/unit/hardware/scale.mock.test.ts (18 tests) 12ms
stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should handle activation error
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license found, requiring activation.

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should redirect if valid license is found on mount
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseActivationPage] Post-hydration: key=EXISTING-KEY, state=valid
[LicenseActivationPage] Valid license or within grace period, proceeding to login

 ✓ src/__tests__/App.test.tsx (7 tests) 374ms
 ✓ tests/integration/sale.flow.test.ts (6 tests) 73ms
 ✓ src/pages/license/__tests__/LicenseActivationPage.test.tsx (6 tests) 2187ms
   ✓ LicenseActivationPage > should handle successful activation 1640ms
 ✓ src/components/ui/__tests__/Input.test.tsx (19 tests) 498ms
 ✓ tests/integration/cash.flow.test.ts (6 tests) 25ms
 ✓ src/hooks/__tests__/useServiceOrders.test.tsx (8 tests) 220ms
 ✓ tests/unit/hardware/printer.mock.test.ts (13 tests) 41ms
 ✓ src/pages/employees/__tests__/EmployeesPage.test.tsx (7 tests) 10299ms
   ✓ EmployeesPage > should render the employees list 901ms
   ✓ EmployeesPage > should filter by search query 1417ms
   ✓ EmployeesPage > should filter by status (active/inactive/all) 899ms
   ✓ EmployeesPage > should create a new employee 2604ms
   ✓ EmployeesPage > should edit an employee 2214ms
   ✓ EmployeesPage > should deactivate an employee via toggle 812ms
   ✓ EmployeesPage > should handle soft delete/deactivation with confirmation 1430ms
 ✓ src/pages/reports/__tests__/SalesReportPage.test.tsx (9 tests) 4823ms
   ✓ SalesReportPage > should render page title and description 1445ms
   ✓ SalesReportPage > should render summary cards with correct data 498ms
   ✓ SalesReportPage > should render periods table 345ms
   ✓ SalesReportPage > should render top products 350ms
   ✓ SalesReportPage > should render payment breakdown 371ms
   ✓ SalesReportPage > should handle print action 409ms
   ✓ SalesReportPage > should handle export action 422ms
   ✓ SalesReportPage > should render group by selection 663ms
 ✓ src/components/tutorial/__tests__/useTutorial.test.tsx (9 tests) 56ms
stderr | src/hooks/__tests__/useVehicles.test.tsx > useVehicles > should reset state
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@testing-library+react@16.3.1_@testing-library+dom@10.4.1_@types+react-dom@18.3.7_@type_d9437e0482bb9cab2d9082dbcc570f70/node_modules/@testing-library/react/dist/pure.js:328:5)
    at QueryClientProvider (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@tanstack+react-query@5.90.16_react@18.3.1/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at Wrapper (/home/jhonslife/GIRO/apps/desktop/src/test/queryWrapper.tsx:12:22)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@testing-library+react@16.3.1_@testing-library+dom@10.4.1_@types+react-dom@18.3.7_@type_d9437e0482bb9cab2d9082dbcc570f70/node_modules/@testing-library/react/dist/pure.js:328:5)
    at QueryClientProvider (file:///home/jhonslife/GIRO/apps/desktop/node_modules/.pnpm/@tanstack+react-query@5.90.16_react@18.3.1/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at Wrapper (/home/jhonslife/GIRO/apps/desktop/src/test/queryWrapper.tsx:12:22)

 ✓ src/hooks/__tests__/useVehicles.test.tsx (6 tests) 459ms
 ✓ src/pages/stock/__tests__/StockPage.test.tsx (7 tests) 2375ms
   ✓ StockPage > should render page title 1028ms
   ✓ StockPage > should display summary metrics with correct formatting 441ms
 ✓ src/components/motoparts/__tests__/ServiceOrderList.test.tsx (7 tests) 1872ms
   ✓ ServiceOrderList > should render the list and filter by search term 731ms
   ✓ ServiceOrderList > should filter by status 354ms
 ✓ src/components/shared/__tests__/FeatureGate.test.tsx (7 tests) 211ms
 ✓ src/pages/reports/__tests__/ReportsPage.test.tsx (3 tests) 3786ms
   ✓ ReportsPage > should render all status cards including monthly stats 1189ms
   ✓ ReportsPage > should render all report category cards with correct links 2286ms
   ✓ ReportsPage > should handle zero states and no low stock styling 308ms

⎯⎯⎯⎯ Unhandled Rejection ⎯⎯⎯⎯⎯
Error: ENOENT: no such file or directory, open '/home/jhonslife/GIRO/apps/desktop/coverage/.tmp/coverage-56.json'
 ❯ open node:internal/fs/promises:639:25
 ❯ Object.writeFile node:internal/fs/promises:1216:14

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯
Serialized Error: { errno: -2, code: 'ENOENT', syscall: 'open', path: '/home/jhonslife/GIRO/apps/desktop/coverage/.tmp/coverage-56.json' }



