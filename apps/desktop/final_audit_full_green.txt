
 RUN  v2.1.9 /home/jhonslife/CICLOGIRO/GIRO/apps/desktop
      Coverage enabled with v8

 âœ“ tests/unit/utils/formatters.test.ts (51 tests) 36ms
 âœ“ src/stores/__tests__/pdv-store.test.ts (24 tests) 13ms
 âœ“ src/lib/__tests__/formatters.test.ts (48 tests) 40ms
 âœ“ src/stores/__tests__/settings-store.test.ts (28 tests) 46ms
stderr | src/components/motoparts/__tests__/ServiceOrderForm.test.tsx > ServiceOrderForm > should show toast on submission error
Erro ao criar ordem de serviÃ§o: Error: API Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/components/motoparts/__tests__/ServiceOrderForm.test.tsx:248:43
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11

 âœ“ src/stores/__tests__/alert-store.test.ts (14 tests) 10ms
 âœ“ src/components/motoparts/__tests__/ServiceOrderForm.test.tsx (5 tests) 500ms
 âœ“ src/hooks/__tests__/useSales.test.tsx (15 tests) 734ms
stdout | src/pages/cash/__tests__/CashControlPage.test.tsx > CashControlPage > should handle opening a cash session
DEBUG: handleOpenSession called 100
DEBUG: mutateAsync completed

stdout | src/pages/cash/__tests__/CashControlPage.test.tsx > CashControlPage > should handle session opening failure
DEBUG: handleOpenSession called 100

stderr | src/pages/cash/__tests__/CashControlPage.test.tsx > CashControlPage > should handle session opening failure
Error: Open Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/cash/__tests__/CashControlPage.test.tsx:124:7
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runNextTicks (node:internal/process/task_queues:60:5)
    at listOnTimeout (node:internal/timers:545:9)
    at processTimers (node:internal/timers:519:7)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)

stdout | src/__tests__/AuditFlows.test.tsx > Audit: Critical Flows Integration > Flow: Full Cash Control Cycle
[Tauri] Invoking get_current_cash_session undefined
[MOCK INVOKE] get_current_cash_session 
[Invoke Result] get_current_cash_session: null

stdout | src/__tests__/AuditFlows.test.tsx > Audit: Critical Flows Integration > Flow: Full Cash Control Cycle
DEBUG: handleOpenSession called 100.00
[Tauri] Invoking open_cash_session { input: { openingBalance: 100, employeeId: 'admin-1' } }
[MOCK INVOKE] open_cash_session {"input":{"openingBalance":100,"employeeId":"admin-1"}}
[Invoke Result] open_cash_session: {
  id: 'sess-1768790300723',
  status: 'OPEN',
  openingBalance: 100,
  openedAt: '2026-01-19T02:38:20.723Z',
  current_balance: 100
}
[Tauri] Invoking get_current_cash_session undefined
[MOCK INVOKE] get_current_cash_session 
[Invoke Result] get_current_cash_session: {
  id: 'sess-1768790300723',
  status: 'OPEN',
  openingBalance: 100,
  openedAt: '2026-01-19T02:38:20.723Z',
  current_balance: 100
}
DEBUG: mutateAsync completed
[Tauri] Invoking get_session_movements { sessionId: 'sess-1768790300723' }
[MOCK INVOKE] get_session_movements {"sessionId":"sess-1768790300723"}
[Tauri] Invoking get_cash_session_summary { sessionId: 'sess-1768790300723' }
[MOCK INVOKE] get_cash_session_summary {"sessionId":"sess-1768790300723"}
DEBUG: Computing summary. Movements count: 0
[Invoke Result] get_session_movements: []
[Invoke Result] get_cash_session_summary: {
  session: {
    id: 'sess-1768790300723',
    status: 'OPEN',
    openingBalance: 100,
    openedAt: '2026-01-19T02:38:20.723Z',
    current_balance: 100
  },
  totalSales: 0,
  totalSupplies: 0,
  totalWithdrawals: 0,
  cashInDrawer: 100,
  movements: [],
  salesByMethod: []
}

stdout | src/__tests__/AuditFlows.test.tsx > Audit: Critical Flows Integration > Flow: Full Cash Control Cycle
[Tauri] Invoking add_cash_movement {
  input: {
    sessionId: 'sess-1768790300723',
    movementType: 'SUPPLY',
    amount: 50,
    description: 'Audit Supply'
  }
}
[MOCK INVOKE] add_cash_movement {"input":{"sessionId":"sess-1768790300723","movementType":"SUPPLY","amount":50,"description":"Audit Supply"}}
DEBUG: Added movement. New size: 1
[Invoke Result] add_cash_movement: null
[Tauri] Invoking get_current_cash_session undefined
[MOCK INVOKE] get_current_cash_session 
[Tauri] Invoking get_cash_session_summary { sessionId: 'sess-1768790300723' }
[MOCK INVOKE] get_cash_session_summary {"sessionId":"sess-1768790300723"}
DEBUG: Computing summary. Movements count: 1
[Tauri] Invoking get_session_movements { sessionId: 'sess-1768790300723' }
[MOCK INVOKE] get_session_movements {"sessionId":"sess-1768790300723"}
[Invoke Result] get_current_cash_session: {
  id: 'sess-1768790300723',
  status: 'OPEN',
  openingBalance: 100,
  openedAt: '2026-01-19T02:38:20.723Z',
  current_balance: 100
}
[Invoke Result] get_cash_session_summary: {
  session: {
    id: 'sess-1768790300723',
    status: 'OPEN',
    openingBalance: 100,
    openedAt: '2026-01-19T02:38:20.723Z',
    current_balance: 100
  },
  totalSales: 0,
  totalSupplies: 50,
  totalWithdrawals: 0,
  cashInDrawer: 150,
  movements: [
    {
      id: 'mov-1768790300858',
      sessionId: 'sess-1768790300723',
      type: 'DEPOSIT',
      amount: 50,
      description: 'Audit Supply',
      createdAt: '2026-01-19T02:38:20.858Z'
    }
  ],
  salesByMethod: []
}
[Invoke Result] get_session_movements: [
  {
    id: 'mov-1768790300858',
    sessionId: 'sess-1768790300723',
    type: 'DEPOSIT',
    amount: 50,
    description: 'Audit Supply',
    createdAt: '2026-01-19T02:38:20.858Z'
  }
]

stderr | src/pages/cash/__tests__/CashControlPage.test.tsx > CashControlPage > should handle movement registration failure
Error: API Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/cash/__tests__/CashControlPage.test.tsx:290:34
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11

 âœ“ src/hooks/__tests__/useDashboard.test.tsx (7 tests) 428ms
stdout | src/__tests__/AuditFlows.test.tsx > Audit: Critical Flows Integration > Flow: Full Cash Control Cycle
[Tauri] Invoking add_cash_movement {
  input: {
    sessionId: 'sess-1768790300723',
    movementType: 'BLEED',
    amount: 30,
    description: 'Audit Bleed'
  }
}
[MOCK INVOKE] add_cash_movement {"input":{"sessionId":"sess-1768790300723","movementType":"BLEED","amount":30,"description":"Audit Bleed"}}
DEBUG: Added movement. New size: 2
[Invoke Result] add_cash_movement: null
[Tauri] Invoking get_current_cash_session undefined
[MOCK INVOKE] get_current_cash_session 
[Tauri] Invoking get_cash_session_summary { sessionId: 'sess-1768790300723' }
[MOCK INVOKE] get_cash_session_summary {"sessionId":"sess-1768790300723"}
DEBUG: Computing summary. Movements count: 2
[Tauri] Invoking get_session_movements { sessionId: 'sess-1768790300723' }
[MOCK INVOKE] get_session_movements {"sessionId":"sess-1768790300723"}
[Invoke Result] get_current_cash_session: {
  id: 'sess-1768790300723',
  status: 'OPEN',
  openingBalance: 100,
  openedAt: '2026-01-19T02:38:20.723Z',
  current_balance: 100
}
[Invoke Result] get_cash_session_summary: {
  session: {
    id: 'sess-1768790300723',
    status: 'OPEN',
    openingBalance: 100,
    openedAt: '2026-01-19T02:38:20.723Z',
    current_balance: 100
  },
  totalSales: 0,
  totalSupplies: 50,
  totalWithdrawals: 30,
  cashInDrawer: 120,
  movements: [
    {
      id: 'mov-1768790300858',
      sessionId: 'sess-1768790300723',
      type: 'DEPOSIT',
      amount: 50,
      description: 'Audit Supply',
      createdAt: '2026-01-19T02:38:20.858Z'
    },
    {
      id: 'mov-1768790300969',
      sessionId: 'sess-1768790300723',
      type: 'WITHDRAWAL',
      amount: 30,
      description: 'Audit Bleed',
      createdAt: '2026-01-19T02:38:20.969Z'
    }
  ],
  salesByMethod: []
}
[Invoke Result] get_session_movements: [
  {
    id: 'mov-1768790300858',
    sessionId: 'sess-1768790300723',
    type: 'DEPOSIT',
    amount: 50,
    description: 'Audit Supply',
    createdAt: '2026-01-19T02:38:20.858Z'
  },
  {
    id: 'mov-1768790300969',
    sessionId: 'sess-1768790300723',
    type: 'WITHDRAWAL',
    amount: 30,
    description: 'Audit Bleed',
    createdAt: '2026-01-19T02:38:20.969Z'
  }
]

stdout | src/__tests__/AuditFlows.test.tsx > Audit: Critical Flows Integration > UX: Product Form should have autoComplete='off'
[Tauri] Invoking get_categories undefined
[MOCK INVOKE] get_categories 
[Invoke Result] get_categories: []

 âœ“ src/__tests__/AuditFlows.test.tsx (2 tests) 647ms
   âœ“ Audit: Critical Flows Integration > Flow: Full Cash Control Cycle 531ms
 âœ“ src/hooks/__tests__/usePDV.test.tsx (10 tests) 511ms
 âœ“ src/pages/cash/__tests__/CashControlPage.test.tsx (11 tests) 1007ms
stderr | src/pages/products/__tests__/CategoriesPage.test.tsx > CategoriesPage > Error States > should handle creation failure
Erro ao criar categoria: Error: Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/products/__tests__/CategoriesPage.test.tsx:250:52
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)

stderr | src/pages/products/__tests__/CategoriesPage.test.tsx > CategoriesPage > Error States > should handle deactivation failure
Erro ao processar aÃ§Ã£o na categoria: Error: Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/products/__tests__/CategoriesPage.test.tsx:268:52
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)

stderr | src/pages/products/__tests__/CategoriesPage.test.tsx > CategoriesPage > Error States > should handle reactivation failure
Erro ao processar aÃ§Ã£o na categoria: Error: Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/products/__tests__/CategoriesPage.test.tsx:285:52
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)

 âœ“ src/pages/pdv/__tests__/PDVPage.test.tsx (12 tests) 1836ms
   âœ“ PDVPage > should handle F shortcuts 307ms
   âœ“ PDVPage > should handle quantity and discount confirmations via mouse with comma/dot logic 317ms
   âœ“ PDVPage > should handle invalid quantity/discount inputs 484ms
 âœ“ src/pages/products/__tests__/CategoriesPage.test.tsx (13 tests) 1925ms
   âœ“ CategoriesPage > should create a new category 473ms
   âœ“ CategoriesPage > Error States > should handle creation failure 309ms
 âœ“ src/hooks/__tests__/useSuppliers.test.tsx (10 tests) 290ms
 âœ“ src/hooks/__tests__/useCategories.test.tsx (12 tests) 634ms
stderr | src/components/motoparts/__tests__/ProductCompatibilityEditor.test.tsx > ProductCompatibilityEditor > should handle removal confirmation
Warning: Missing `Description` or `aria-describedby={undefined}` for {AlertDialogContent}.

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > isTauriRuntime > should return true when window.__TAURI__ is defined
[Tauri] Invoking get_products { filter: undefined }
[Invoke Result] get_products: []

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > isTauriRuntime > should return false when window.__TAURI__ is undefined
[WebMock] Invoking get_products (MOCK MODE ACTIVE) { filter: undefined }

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > tauriInvoke (Tauri path) > should call tauriCoreInvoke when in Tauri runtime
[Tauri] Invoking get_products { filter: undefined }
[Invoke Result] get_products: [ { id: '1', name: 'Product 1' } ]

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should authenticate employee correctly
[Invoke Result] authenticate_employee: {
  id: 'admin-1',
  name: 'Admin',
  role: 'ADMIN',
  pin: '8899',
  isActive: true,
  createdAt: '2026-01-19T02:38:22.965Z',
  updatedAt: '2026-01-19T02:38:22.965Z'
}

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should authenticate employee correctly
[WebMock] Invoking authenticate_employee (MOCK MODE ACTIVE) { pin: '8899' }

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should return null for invalid pin
[Invoke Result] authenticate_employee: null

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should return null for invalid pin
[WebMock] Invoking authenticate_employee (MOCK MODE ACTIVE) { pin: 'wrong' }

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should check if admin exists
[Invoke Result] has_admin: true

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should check if admin exists
[WebMock] Invoking has_admin (MOCK MODE ACTIVE) undefined

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should get current cash session (null initially)
[Invoke Result] get_current_cash_session: null

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should get current cash session (null initially)
[WebMock] Invoking get_current_cash_session (MOCK MODE ACTIVE) undefined

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should open and close a cash session
[Invoke Result] get_employees: [
  {
    id: 'admin-1',
    name: 'Admin',
    role: 'ADMIN',
    pin: '8899',
    isActive: true,
    createdAt: '2026-01-19T02:38:22.968Z',
    updatedAt: '2026-01-19T02:38:22.968Z'
  }
]
[Invoke Result] open_cash_session: {
  id: 'cash-session-1768790302968-58b1c4940c098',
  employeeId: 'admin-1',
  employee: {
    id: 'admin-1',
    name: 'Admin',
    role: 'ADMIN',
    pin: '8899',
    isActive: true,
    createdAt: '2026-01-19T02:38:22.968Z',
    updatedAt: '2026-01-19T02:38:22.968Z'
  },
  employeeName: 'Admin',
  openedAt: '2026-01-19T02:38:22.968Z',
  openingBalance: 100,
  status: 'OPEN',
  notes: undefined,
  movements: [],
  sales: []
}
[Invoke Result] get_current_cash_session: {
  id: 'cash-session-1768790302968-58b1c4940c098',
  employeeId: 'admin-1',
  employee: {
    id: 'admin-1',
    name: 'Admin',
    role: 'ADMIN',
    pin: '8899',
    isActive: true,
    createdAt: '2026-01-19T02:38:22.968Z',
    updatedAt: '2026-01-19T02:38:22.968Z'
  },
  employeeName: 'Admin',
  openedAt: '2026-01-19T02:38:22.968Z',
  openingBalance: 100,
  status: 'OPEN',
  movements: [],
  sales: []
}
[Invoke Result] close_cash_session: {
  id: 'cash-session-1768790302968-58b1c4940c098',
  employeeId: 'admin-1',
  employee: {
    id: 'admin-1',
    name: 'Admin',
    role: 'ADMIN',
    pin: '8899',
    isActive: true,
    createdAt: '2026-01-19T02:38:22.968Z',
    updatedAt: '2026-01-19T02:38:22.968Z'
  },
  employeeName: 'Admin',
  openedAt: '2026-01-19T02:38:22.968Z',
  openingBalance: 100,
  status: 'CLOSED',
  movements: [],
  sales: [],
  closedAt: '2026-01-19T02:38:22.969Z',
  actualBalance: 150,
  notes: undefined
}
[Invoke Result] get_current_cash_session: null

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should open and close a cash session
[WebMock] Invoking get_employees (MOCK MODE ACTIVE) undefined
[WebMock] Invoking open_cash_session (MOCK MODE ACTIVE) { input: { employeeId: 'admin-1', openingBalance: 100 } }
[WebMock] Invoking get_current_cash_session (MOCK MODE ACTIVE) undefined
[WebMock] Invoking close_cash_session (MOCK MODE ACTIVE) {
  id: 'cash-session-1768790302968-58b1c4940c098',
  actualBalance: 150,
  notes: undefined
}
[WebMock] Invoking get_current_cash_session (MOCK MODE ACTIVE) undefined

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should add cash movements and get summary
[Invoke Result] get_employees: [
  {
    id: 'admin-1',
    name: 'Admin',
    role: 'ADMIN',
    pin: '8899',
    isActive: true,
    createdAt: '2026-01-19T02:38:22.969Z',
    updatedAt: '2026-01-19T02:38:22.969Z'
  }
]
[Invoke Result] open_cash_session: {
  id: 'cash-session-1768790302970-0037bfe4d861c',
  employeeId: 'admin-1',
  employee: {
    id: 'admin-1',
    name: 'Admin',
    role: 'ADMIN',
    pin: '8899',
    isActive: true,
    createdAt: '2026-01-19T02:38:22.969Z',
    updatedAt: '2026-01-19T02:38:22.969Z'
  },
  employeeName: 'Admin',
  openedAt: '2026-01-19T02:38:22.970Z',
  openingBalance: 100,
  status: 'OPEN',
  notes: undefined,
  movements: [],
  sales: []
}
[Invoke Result] add_cash_movement: undefined
[Invoke Result] add_cash_movement: undefined
[Invoke Result] get_cash_session_summary: {
  session: {
    id: 'cash-session-1768790302970-0037bfe4d861c',
    employeeId: 'admin-1',
    employee: {
      id: 'admin-1',
      name: 'Admin',
      role: 'ADMIN',
      pin: '8899',
      isActive: true,
      createdAt: '2026-01-19T02:38:22.969Z',
      updatedAt: '2026-01-19T02:38:22.969Z'
    },
    employeeName: 'Admin',
    openedAt: '2026-01-19T02:38:22.970Z',
    openingBalance: 100,
    status: 'OPEN',
    movements: [ [Object], [Object] ],
    sales: []
  },
  totalSales: 0,
  totalCanceled: 0,
  totalWithdrawals: 30,
  totalSupplies: 50,
  movementCount: 2,
  salesByMethod: [],
  cashInDrawer: 120
}

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should add cash movements and get summary
[WebMock] Invoking get_employees (MOCK MODE ACTIVE) undefined
[WebMock] Invoking open_cash_session (MOCK MODE ACTIVE) { input: { employeeId: 'admin-1', openingBalance: 100 } }
[WebMock] Invoking add_cash_movement (MOCK MODE ACTIVE) {
  input: {
    sessionId: 'cash-session-1768790302970-0037bfe4d861c',
    movementType: 'SUPPLY',
    amount: 50,
    description: 'Suprimento'
  }
}
[WebMock] Invoking add_cash_movement (MOCK MODE ACTIVE) {
  input: {
    sessionId: 'cash-session-1768790302970-0037bfe4d861c',
    movementType: 'BLEED',
    amount: 30,
    description: 'Sangria'
  }
}
[WebMock] Invoking get_cash_session_summary (MOCK MODE ACTIVE) { sessionId: 'cash-session-1768790302970-0037bfe4d861c' }

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should throw error for unsupported command in mock
[WebMock] Invoking get_products (MOCK MODE ACTIVE) { filter: undefined }

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should throw error if opening session when one is already open
[Invoke Result] get_employees: [
  {
    id: 'admin-1',
    name: 'Admin',
    role: 'ADMIN',
    pin: '8899',
    isActive: true,
    createdAt: '2026-01-19T02:38:22.973Z',
    updatedAt: '2026-01-19T02:38:22.973Z'
  }
]
[Invoke Result] open_cash_session: {
  id: 'cash-session-1768790302973-bbe7e2da3c307',
  employeeId: 'admin-1',
  employee: {
    id: 'admin-1',
    name: 'Admin',
    role: 'ADMIN',
    pin: '8899',
    isActive: true,
    createdAt: '2026-01-19T02:38:22.973Z',
    updatedAt: '2026-01-19T02:38:22.973Z'
  },
  employeeName: 'Admin',
  openedAt: '2026-01-19T02:38:22.973Z',
  openingBalance: 100,
  status: 'OPEN',
  notes: undefined,
  movements: [],
  sales: []
}

stderr | src/lib/__tests__/tauri.test.ts > tauri.ts > webMockInvoke (Web path) > should throw error if opening session when one is already open
[WebMock] Invoking get_employees (MOCK MODE ACTIVE) undefined
[WebMock] Invoking open_cash_session (MOCK MODE ACTIVE) { input: { employeeId: 'admin-1', openingBalance: 100 } }
[WebMock] Invoking open_cash_session (MOCK MODE ACTIVE) { input: { employeeId: 'admin-1', openingBalance: 100 } }

stdout | src/lib/__tests__/tauri.test.ts > tauri.ts > All other wrappers > should call tauriInvoke for various commands
[Tauri] Invoking get_products { filter: {} }
[Invoke Result] get_products: {}
[Tauri] Invoking get_product_by_id { id: '1' }
[Invoke Result] get_product_by_id: {}
[Tauri] Invoking search_products { query: 'test' }
[Invoke Result] search_products: {}
[Tauri] Invoking get_categories undefined
[Invoke Result] get_categories: {}
[Tauri] Invoking get_sales { filter: undefined }
[Invoke Result] get_sales: {}
[Tauri] Invoking get_alerts { limit: 100 }
[Invoke Result] get_alerts: {}
[Tauri] Invoking get_all_settings undefined
[Invoke Result] get_all_settings: {}
[Tauri] Invoking print_receipt { saleId: 'sale-1' }
[Invoke Result] print_receipt: {}

 âœ“ src/components/motoparts/__tests__/ProductCompatibilityEditor.test.tsx (11 tests) 688ms
   âœ“ ProductCompatibilityEditor > should handle removal confirmation 353ms
 âœ“ src/lib/__tests__/tauri.test.ts (12 tests) 24ms
 âœ“ src/hooks/__tests__/useStock.test.tsx (9 tests) 483ms
 âœ“ src/hooks/__tests__/useCustomers.test.ts (11 tests) 537ms
   âœ“ useCustomers hooks > useCustomerSearch > should perform debounced search 314ms
 âœ“ src/pages/suppliers/__tests__/SuppliersPage.test.tsx (7 tests) 2307ms
   âœ“ SuppliersPage > should create a new supplier 735ms
   âœ“ SuppliersPage > should show validation errors for invalid inputs 387ms
   âœ“ SuppliersPage > should edit a supplier and handle optional fields omission 380ms
   âœ“ SuppliersPage > should filter by search text (name, tradeName, cnpj) 503ms
stdout | src/stores/__tests__/license-store.test.ts > license-store > should hydrate from disk successfully
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: {
  key: 'disk-key',
  info: { status: 'active', license_key: 'disk-key' },
  last_validated_at: '2026-01-19T02:38:23.431Z'
}
[LicenseStore] Within grace period, setting state to valid

stdout | src/stores/__tests__/license-store.test.ts > license-store > should handle missing license on disk
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed

stdout | src/stores/__tests__/license-store.test.ts > license-store > should handle disk hydration error
[LicenseStore] Hydrating from disk...

stderr | src/stores/__tests__/license-store.test.ts > license-store > should handle disk hydration error
[LicenseStore] Failed to hydrate license from disk: Error: Disk error
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/stores/__tests__/license-store.test.ts:185:51
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)

 âœ“ src/stores/__tests__/license-store.test.ts (11 tests) 18ms
stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should show loading state on mount
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should render activation form when no license exists
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.
[LicenseActivationPage] Showing loading screen (isValidating=true)

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should render activation form when no license exists
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should format license key during typing
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.
[LicenseActivationPage] Showing loading screen (isValidating=true)

stderr | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should format license key during typing
Warning: An update to LicenseActivationPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at LicenseActivationPage (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/license/LicenseActivationPage.tsx:24:61)
    at QueryClientProvider (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@tanstack+react-query@5.90.17_react@18.3.1/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at Wrapper (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/test/queryWrapper.tsx:12:22)
Warning: An update to LicenseActivationPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at LicenseActivationPage (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/license/LicenseActivationPage.tsx:24:61)
    at QueryClientProvider (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@tanstack+react-query@5.90.17_react@18.3.1/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at Wrapper (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/test/queryWrapper.tsx:12:22)
Warning: An update to LicenseActivationPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at LicenseActivationPage (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/license/LicenseActivationPage.tsx:24:61)
    at QueryClientProvider (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@tanstack+react-query@5.90.17_react@18.3.1/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at Wrapper (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/test/queryWrapper.tsx:12:22)
Warning: An update to LicenseActivationPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at LicenseActivationPage (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/license/LicenseActivationPage.tsx:24:61)
    at QueryClientProvider (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@tanstack+react-query@5.90.17_react@18.3.1/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at Wrapper (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/test/queryWrapper.tsx:12:22)

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should format license key during typing
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should handle successful activation
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.
[LicenseActivationPage] Activation success, redirecting in 1.5s...

stderr | src/components/motoparts/__tests__/WarrantyDetails.test.tsx > WarrantyDetails > should handle resolve error gracefully
Erro ao resolver garantia: Error: Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/components/motoparts/__tests__/WarrantyDetails.test.tsx:213:40
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)

 âœ“ src/components/motoparts/__tests__/WarrantyDetails.test.tsx (9 tests) 827ms
 âœ“ src/components/motoparts/__tests__/ServiceOrderDetails.test.tsx (8 tests) 1057ms
 âœ“ src/pages/products/__tests__/ProductsPage.test.tsx (17 tests) 4116ms
   âœ“ ProductsPage > should render products and handle search with debounce 863ms
   âœ“ ProductsPage > should handle search with barcode 693ms
   âœ“ ProductsPage > should show empty state when search returns nothing 775ms
 âœ“ src/components/tutorial/__tests__/tutorial-store.test.ts (15 tests) 10ms
 âœ“ src/lib/__tests__/utils.test.ts (35 tests) 48ms
stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should render login page
[LoginPage] Mounted

stderr | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should render login page
Warning: validateDOMNesting(...): <p> cannot appear as a descendant of <p>.
    at p
    at p
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/components/ui/card.tsx:64:61
    at div
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/components/ui/card.tsx:27:56
    at div
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/components/ui/card.tsx:7:50
    at div
    at LoginPage (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/pages/auth/LoginPage.tsx:22:47)
    at Router (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1207:17)
    at MemoryRouter (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/react-router@6.30.3_react@18.3.1/node_modules/react-router/dist/umd/react-router.development.js:1101:7)

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should render PIN display with 6 slots
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should render numeric keypad
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should render clear (C) button
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should render backspace (â†) button
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should render login button disabled initially
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should enable login button after 4 digits
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should clear PIN when C is clicked
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should remove last digit when â† is clicked
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should show error for short PIN
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should call authenticateEmployee on login
[LoginPage] Mounted

 âœ“ tests/unit/hardware/scanner.mock.test.ts (15 tests) 14ms
stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should navigate to dashboard on successful login
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should show error for invalid PIN
[LoginPage] Mounted

stdout | src/pages/auth/__tests__/LoginPage.test.tsx > LoginPage > should show system version
[LoginPage] Mounted

 âœ“ src/pages/auth/__tests__/LoginPage.test.tsx (14 tests) 1412ms
 âœ“ src/hooks/__tests__/use-products.test.tsx (11 tests) 383ms
stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should handle successful activation
[LicenseActivationPage] Executing navigate to /

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should redirect to /setup after activation if has_admin is false
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.
[LicenseActivationPage] Activation success, redirecting in 1.5s...

 âœ“ src/components/pdv/__tests__/NumPad.test.tsx (19 tests) 758ms
 âœ“ src/components/ui/__tests__/Card.test.tsx (21 tests) 166ms
 âœ“ src/hooks/__tests__/useAlerts.test.tsx (8 tests) 485ms
 âœ“ src/hooks/__tests__/useCashSession.test.tsx (7 tests) 424ms
stderr | src/components/motoparts/__tests__/WarrantyForm.test.tsx > WarrantyForm > should show error toast on failure
Erro ao registrar garantia: Error: Fail
    at /home/jhonslife/CICLOGIRO/GIRO/apps/desktop/src/components/motoparts/__tests__/WarrantyForm.test.tsx:148:46
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/@vitest+runner@2.1.9/node_modules/@vitest/runner/dist/index.js:1271:3)
    at file:///home/jhonslife/CICLOGIRO/GIRO/apps/desktop/node_modules/.pnpm/vitest@2.1.9_@types+node@22.19.7_@vitest+ui@2.1.9_jsdom@25.0.1/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11

 âœ“ src/pages/stock/__tests__/ExpirationPage.test.tsx (6 tests) 416ms
 âœ“ src/components/motoparts/__tests__/WarrantyForm.test.tsx (5 tests) 618ms
 âœ“ src/pages/settings/__tests__/SettingsPage.test.tsx (6 tests) 1477ms
   âœ“ SettingsPage > should switch between all tabs 476ms
 âœ“ src/pages/stock/__tests__/StockMovementsPage.test.tsx (7 tests) 389ms
stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should redirect to /setup after activation if has_admin is false
[LicenseActivationPage] Executing navigate to /setup

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should redirect to / after activation if has_admin is true
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.
[LicenseActivationPage] Activation success, redirecting in 1.5s...

 âœ“ src/components/ui/__tests__/Button.test.tsx (23 tests) 283ms
 âœ“ tests/unit/hardware/scale.mock.test.ts (18 tests) 9ms
 âœ“ src/hooks/__tests__/useKeyboard.test.tsx (11 tests) 45ms
 âœ“ src/pages/dashboard/__tests__/DashboardPage.test.tsx (7 tests) 439ms
stderr | src/__tests__/App.test.tsx > App > should redirect to /setup if no admin exists
[GlobalSetupGate] No Admin detected (hasAdmin=false). Forcing redirect from / to /setup
ğŸš© [Navigation] Path changed to: /
âŒ [GlobalSetupGate] State mismatch: No admin in DB but frontend has state. PURGING.
ğŸš© [Navigation] Path changed to: /setup
âŒ [GlobalSetupGate] State mismatch: No admin in DB but frontend has state. PURGING.

 âœ“ src/hooks/__tests__/usePriceHistory.test.tsx (14 tests) 318ms
 âœ“ tests/integration/sale.flow.test.ts (6 tests) 9ms
 âœ“ src/components/nfce/__tests__/ContingencyManager.test.tsx (5 tests) 264ms
stderr | src/__tests__/App.test.tsx > App > should redirect to /login if NOT authenticated in ProtectedRoute
ğŸš© [Navigation] Path changed to: /pdv
ğŸš© [Navigation] Path changed to: /login

stderr | src/__tests__/App.test.tsx > App > should handle F1 hotkey to navigate to tutorials
ğŸš© [Navigation] Path changed to: /pdv
ğŸš© [Navigation] Path changed to: /tutorials

stderr | src/__tests__/App.test.tsx > App > should show loading state in AdminCheck
ğŸš© [Navigation] Path changed to: /

stderr | src/__tests__/App.test.tsx > App > should respect role-based access in ProtectedRoute
ğŸš© [Navigation] Path changed to: /employees
ğŸš© [Navigation] Path changed to: /pdv

stderr | src/__tests__/App.test.tsx > App > should redirect to wizard from RootRedirect when not configured
ğŸš© [Navigation] Path changed to: /wizard

stderr | src/__tests__/App.test.tsx > App > should handle WizardRoute redirect to PDV when already configured
ğŸš© [Navigation] Path changed to: /wizard
ğŸš© [Navigation] Path changed to: /pdv

 âœ“ src/__tests__/App.test.tsx (7 tests) 609ms
   âœ“ App > should redirect to /setup if no admin exists 544ms
stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should redirect to / after activation if has_admin is true
[LicenseActivationPage] Executing navigate to /

 âœ“ tests/unit/hardware/printer.mock.test.ts (13 tests) 8ms
 âœ“ src/pages/reports/__tests__/SalesReportPage.test.tsx (9 tests) 574ms
stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should handle activation error
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseStore] Hydrating from disk...
[LicenseStore] Data from disk: null
[LicenseStore] No key found on disk, setting unlicensed
[LicenseActivationPage] Post-hydration: key=null, state=unlicensed
[LicenseActivationPage] No license to restore.

stdout | src/pages/license/__tests__/LicenseActivationPage.test.tsx > LicenseActivationPage > should redirect if valid license is found on mount
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Initializing...
[LicenseActivationPage] Hardware ID: MOCK-HWID-123
[LicenseActivationPage] Hydrating from disk...
[LicenseActivationPage] Showing loading screen (isValidating=true)
[LicenseActivationPage] Post-hydration: key=EXISTING-KEY, state=valid
[LicenseActivationPage] Valid license or within grace period, proceeding to root
[LicenseActivationPage] Showing loading screen (isValidating=true)

 âœ“ src/components/ui/__tests__/Input.test.tsx (19 tests) 100ms
 âœ“ src/pages/license/__tests__/LicenseActivationPage.test.tsx (8 tests) 5018ms
   âœ“ LicenseActivationPage > should handle successful activation 1599ms
   âœ“ LicenseActivationPage > should redirect to /setup after activation if has_admin is false 1560ms
   âœ“ LicenseActivationPage > should redirect to / after activation if has_admin is true 1561ms
stderr | Console.console.warn (/home/jhonslife/CICLOGIRO/GIRO/apps/desktop/tests/setup.ts:62:16)
License initialization timed out, showing form.

 âœ“ src/pages/employees/__tests__/EmployeesPage.test.tsx (7 tests) 1752ms
   âœ“ EmployeesPage > should create a new employee 455ms
   âœ“ EmployeesPage > should edit an employee 431ms
 âœ“ tests/integration/cash.flow.test.ts (6 tests) 6ms
 âœ“ src/hooks/__tests__/useServiceOrders.test.tsx (8 tests) 144ms
 âœ“ src/hooks/__tests__/useVehicles.test.tsx (6 tests) 365ms
 âœ“ src/pages/stock/__tests__/StockPage.test.tsx (7 tests) 355ms
 âœ“ src/components/motoparts/__tests__/ServiceOrderList.test.tsx (7 tests) 381ms
 âœ“ src/components/tutorial/__tests__/useTutorial.test.tsx (9 tests) 51ms
 âœ“ src/hooks/__tests__/use-toast.test.ts (9 tests) 65ms
 âœ“ src/components/shared/__tests__/FeatureGate.test.tsx (7 tests) 56ms
 âœ“ src/components/motoparts/__tests__/MotopartsDashboard.test.tsx (3 tests) 194ms
stdout | src/pages/setup/__tests__/InitialSetupPage.test.tsx > InitialSetupPage > should complete setup and call updateLicenseAdmin
[Setup] Syncing admin to license server...
[Setup] Admin synced successfully
[Setup] has-admin query invalidated

 âœ“ src/pages/setup/__tests__/InitialSetupPage.test.tsx (3 tests) 286ms
 âœ“ src/pages/reports/__tests__/ReportsPage.test.tsx (3 tests) 698ms
   âœ“ ReportsPage > should render all report category cards with correct links 399ms
 âœ“ src/stores/__tests__/auth-store.test.ts (7 tests) 10ms
 âœ“ src/lib/__tests__/design-tokens.test.ts (15 tests) 11ms
 âœ“ src/hooks/__tests__/useWarranties.test.tsx (6 tests) 115ms
stderr | src/pages/products/__tests__/ProductFormPage.test.tsx > ProductFormPage > Create Mode > should render page title for new product
[WebMock] Invoking get_categories (MOCK MODE ACTIVE) undefined

stderr | src/pages/products/__tests__/ProductFormPage.test.tsx > ProductFormPage > Create Mode > should render save button
[WebMock] Invoking get_categories (MOCK MODE ACTIVE) undefined

stderr | src/pages/products/__tests__/ProductFormPage.test.tsx > ProductFormPage > Create Mode > should render form inputs
[WebMock] Invoking get_categories (MOCK MODE ACTIVE) undefined

stderr | src/pages/products/__tests__/ProductFormPage.test.tsx > ProductFormPage > Validation > should show error when submitting without name
[WebMock] Invoking get_categories (MOCK MODE ACTIVE) undefined

 âœ“ src/pages/products/__tests__/ProductFormPage.test.tsx (4 tests) 796ms
   âœ“ ProductFormPage > Create Mode > should render page title for new product 353ms
 âœ“ src/components/layout/__tests__/Sidebar.test.tsx (9 tests) 546ms
 âœ“ src/components/motoparts/__tests__/VehicleSelector.test.tsx (5 tests) 703ms
   âœ“ VehicleSearch > should search and select vehicle 493ms
 âœ“ src/hooks/__tests__/useAuth.test.tsx (4 tests) 243ms
 âœ“ src/components/pdv/__tests__/CartItemRow.test.tsx (10 tests) 276ms
 âœ“ src/pages/stock/__tests__/StockEntryPage.test.tsx (4 tests) 907ms
   âœ“ StockEntryPage > should allow searching and selecting a product 359ms
   âœ“ StockEntryPage > should submit stock entry with all fields 426ms
 âœ“ src/hooks/__tests__/useEmployees.test.ts (6 tests) 168ms
 âœ“ src/stores/__tests__/useBusinessProfile.test.ts (9 tests) 26ms
 âœ“ src/components/motoparts/__tests__/CustomerSearch.test.tsx (5 tests) 422ms
 âœ“ src/components/pdv/__tests__/ProductCard.test.tsx (11 tests) 252ms
 âœ“ src/components/ui/__tests__/Badge.test.tsx (12 tests) 114ms
 âœ“ tests/unit/utils/validators.test.ts (11 tests) 11ms
 âœ“ src/components/ui/__tests__/Switch.test.tsx (11 tests) 252ms
 âœ“ src/components/motoparts/__tests__/ServiceOrderManager.test.tsx (1 test) 94ms
 âœ“ src/components/pdv/__tests__/PaymentModal.test.tsx (3 tests) 394ms
 âœ“ src/components/motoparts/__tests__/WarrantyManager.test.tsx (1 test) 99ms
 âœ“ src/components/layout/__tests__/Header.test.tsx (7 tests) 224ms
 âœ“ src/components/tutorial/__tests__/TutorialHub.test.tsx (6 tests) 381ms
 âœ“ src/components/layout/__tests__/Footer.test.tsx (5 tests) 189ms
 âœ“ src/pages/alerts/__tests__/AlertsPage.test.tsx (3 tests) 244ms
 âœ“ src/components/layout/__tests__/AppShell.test.tsx (4 tests) 123ms
 âœ“ src/components/pdv/__tests__/SaleReceipt.test.tsx (2 tests) 90ms
 âœ“ src/components/shared/__tests__/LoadingPage.test.tsx (3 tests) 77ms
 âœ“ src/pages/motoparts/__tests__/WarrantiesPage.test.tsx (1 test) 31ms
 âœ“ src/pages/motoparts/__tests__/ServiceOrdersPage.test.tsx (1 test) 30ms
 âœ“ src/components/motoparts/__tests__/WarrantyList.test.tsx (2 tests) 155ms

 Test Files  90 passed (90)
      Tests  909 passed (909)
   Start at  22:38:17
   Duration  17.46s (transform 3.86s, setup 9.52s, collect 36.00s, tests 44.32s, environment 54.30s, prepare 10.04s)

 % Coverage report from v8
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-------------------|---------|----------|---------|---------|-------------------
All files          |   67.58 |    78.89 |   71.26 |   67.58 |                   
 src               |   98.02 |    94.11 |    87.5 |   98.02 |                   
  App.tsx          |   98.02 |    94.11 |    87.5 |   98.02 | 143-146           
 src/components    |       0 |        0 |       0 |       0 |                   
  ...teChecker.tsx |       0 |        0 |       0 |       0 | 1-151             
 ...ponents/guards |       0 |        0 |       0 |       0 |                   
  LicenseGuard.tsx |       0 |        0 |       0 |       0 | 1-158             
  SessionGuard.tsx |       0 |        0 |       0 |       0 | 1-53              
  index.ts         |       0 |        0 |       0 |       0 | 1                 
 ...ponents/layout |   88.03 |    63.04 |   47.05 |   88.03 |                   
  AppShell.tsx     |     100 |      100 |     100 |     100 |                   
  Footer.tsx       |   84.25 |    53.33 |     100 |   84.25 | ...58-64,70-71,74 
  Header.tsx       |   85.04 |    16.66 |    12.5 |   85.04 | 37-43,46-49,57-63 
  Sidebar.tsx      |   94.79 |     82.6 |   66.66 |   94.79 | 47,50,108-110     
  index.ts         |       0 |        0 |       0 |       0 | 1                 
 ...ents/motoparts |   92.64 |    71.72 |   80.37 |   92.64 |                   
  ...merSearch.tsx |    92.2 |    61.22 |   56.25 |    92.2 | ...75-177,214-216 
  ...Dashboard.tsx |     100 |      100 |   33.33 |     100 |                   
  ...ityEditor.tsx |   92.55 |    68.42 |   71.42 |   92.55 | ...95-304,357-359 
  ...erDetails.tsx |   85.17 |    73.23 |     100 |   85.17 | ...60-462,518-521 
  ...OrderForm.tsx |   93.92 |    70.96 |     100 |   93.92 | 75-81,141-143,172 
  ...OrderList.tsx |   99.51 |    93.33 |      75 |   99.51 | 112               
  ...erManager.tsx |     100 |      100 |     100 |     100 |                   
  ...eSelector.tsx |   93.55 |    64.91 |   73.33 |   93.55 | ...97,334-336,424 
  ...tyDetails.tsx |   89.44 |    72.22 |      90 |   89.44 | ...36,141-147,326 
  WarrantyForm.tsx |   98.27 |    71.42 |     100 |   98.27 | 105,267-269       
  WarrantyList.tsx |   89.55 |    35.29 |      40 |   89.55 | ...21-123,170-172 
  ...tyManager.tsx |     100 |      100 |     100 |     100 |                   
  index.ts         |     100 |      100 |     100 |     100 |                   
 ...omponents/nfce |   91.36 |    81.81 |     100 |   91.36 |                   
  ...cyManager.tsx |   91.36 |    81.81 |     100 |   91.36 | 41-46,95-100      
 ...components/pdv |   56.66 |    71.56 |   37.77 |   56.66 |                   
  CartItemRow.tsx  |   97.26 |      100 |      75 |   97.26 | 34-35             
  ...dShortcut.tsx |       0 |        0 |       0 |       0 | 1-117             
  NumPad.tsx       |     100 |    95.23 |      75 |     100 | 67                
  ...ricKeypad.tsx |       0 |        0 |       0 |       0 | 1-107             
  PaymentModal.tsx |   54.26 |    66.66 |   21.42 |   54.26 | ...05-540,604-607 
  ProductCard.tsx  |   84.28 |    62.96 |     100 |   84.28 | ...65-167,200-215 
  ...chResults.tsx |       0 |        0 |       0 |       0 | 1-160             
  SaleReceipt.tsx  |     100 |       70 |     100 |     100 | 79,129,147        
  index.ts         |       0 |        0 |       0 |       0 | 1                 
 ...nents/settings |    1.02 |      100 |       0 |    1.02 |                   
  ...lSettings.tsx |    0.74 |      100 |       0 |    0.74 | 21-338            
  ...eSettings.tsx |    1.35 |      100 |       0 |    1.35 | 12-185            
  ...rSettings.tsx |    0.74 |      100 |       0 |    0.74 | 34-341            
  index.ts         |     100 |      100 |     100 |     100 |                   
 ...ponents/shared |   12.34 |    83.33 |   44.44 |   12.34 |                   
  ...ileWizard.tsx |       0 |        0 |       0 |       0 | 1-307             
  ...sticTools.tsx |       0 |        0 |       0 |       0 | 1-64              
  FeatureGate.tsx  |   79.59 |      100 |      75 |   79.59 | 183-216           
  LoadingPage.tsx  |     100 |      100 |     100 |     100 |                   
  ...storyCard.tsx |    1.94 |      100 |       0 |    1.94 | 33-150            
  index.ts         |       0 |        0 |       0 |       0 | 1                 
 ...nents/tutorial |   40.08 |    57.84 |    65.9 |   40.08 |                   
  Spotlight.tsx    |       0 |        0 |       0 |       0 | 1-289             
  TutorialHub.tsx  |   90.75 |    28.57 |   66.66 |   90.75 | ...22-223,277-280 
  ...lProvider.tsx |       0 |        0 |       0 |       0 | 1-198             
  ...alTooltip.tsx |       0 |        0 |       0 |       0 | 1-332             
  index.ts         |       0 |        0 |       0 |       0 | 1                 
  ...rial-store.ts |   74.57 |    66.07 |      76 |   74.57 | ...72-384,395-413 
  types.ts         |       0 |      100 |     100 |       0 | 133-151           
  useTutorial.ts   |    61.9 |      100 |      60 |    61.9 | ...15-149,163-171 
 ...rial/tutorials |       0 |     90.9 |    90.9 |       0 |                   
  alerts.ts        |       0 |      100 |     100 |       0 | 3-109             
  cash.ts          |       0 |      100 |     100 |       0 | 3-139             
  employees.ts     |       0 |      100 |     100 |       0 | 3-133             
  index.ts         |       0 |        0 |       0 |       0 | 1-46              
  pdv-advanced.ts  |       0 |      100 |     100 |       0 | 3-170             
  pdv-basic.ts     |       0 |      100 |     100 |       0 | 3-154             
  products.ts      |       0 |      100 |     100 |       0 | 3-176             
  reports.ts       |       0 |      100 |     100 |       0 | 3-129             
  settings.ts      |       0 |      100 |     100 |       0 | 3-176             
  stock.ts         |       0 |      100 |     100 |       0 | 3-163             
  welcome.ts       |       0 |      100 |     100 |       0 | 3-96              
 src/components/ui |   72.75 |    90.12 |      50 |   72.75 |                   
  alert-dialog.tsx |     100 |      100 |     100 |     100 |                   
  alert.tsx        |       0 |        0 |       0 |       0 | 1-81              
  badge.tsx        |     100 |      100 |     100 |     100 |                   
  button.tsx       |     100 |      100 |     100 |     100 |                   
  calendar.tsx     |    4.65 |      100 |       0 |    4.65 | 12-53             
  card.tsx         |     100 |      100 |     100 |     100 |                   
  command.tsx      |   80.68 |      100 |       0 |   80.68 | ...,89-94,113-116 
  dialog.tsx       |     100 |      100 |     100 |     100 |                   
  ...down-menu.tsx |   45.08 |    66.66 |       0 |   45.08 | ...56-161,165-168 
  form.tsx         |   97.89 |    93.33 |     100 |   97.89 | 50-51             
  input.tsx        |     100 |      100 |     100 |     100 |                   
  label.tsx        |     100 |      100 |     100 |     100 |                   
  popover.tsx      |     100 |      100 |     100 |     100 |                   
  progress.tsx     |     100 |      100 |     100 |     100 |                   
  scroll-area.tsx  |   96.96 |    66.66 |     100 |   96.96 | 36                
  select.tsx       |   88.34 |      100 |     100 |   88.34 | 99-104,134-139    
  separator.tsx    |     100 |       50 |     100 |     100 | 20                
  skeleton.tsx     |     100 |      100 |     100 |     100 |                   
  switch.tsx       |     100 |      100 |     100 |     100 |                   
  table.tsx        |   89.23 |      100 |     100 |   89.23 | 34-39,87          
  tabs.tsx         |     100 |      100 |     100 |     100 |                   
  textarea.tsx     |     100 |       50 |     100 |     100 | 15                
  toast.tsx        |       0 |        0 |       0 |       0 | 1-115             
  toaster.tsx      |       0 |        0 |       0 |       0 | 1-33              
  tooltip.tsx      |     100 |      100 |     100 |     100 |                   
 src/hooks         |   73.11 |    86.11 |   82.98 |   73.11 |                   
  index.ts         |     100 |      100 |     100 |     100 |                   
  ...sh-session.ts |     100 |      100 |     100 |     100 |                   
  use-keyboard.ts  |   51.19 |       92 |      50 |   51.19 | 85-127            
  use-products.ts  |     100 |      100 |   96.77 |     100 |                   
  use-toast.ts     |   88.63 |    85.71 |     100 |   88.63 | ...,89-92,113-116 
  useAlerts.ts     |    84.7 |      100 |   93.33 |    84.7 | 132-148           
  useAuth.ts       |    67.3 |      100 |      90 |    67.3 | 80-106            
  useCategories.ts |      68 |      100 |    61.9 |      68 | ...35-148,154-167 
  useCustomers.ts  |   69.54 |    73.68 |     100 |   69.54 | ...70-377,423-425 
  useDashboard.ts  |   96.36 |    81.81 |     100 |   96.36 | 33-34             
  useEmployees.ts  |     100 |      100 |   94.11 |     100 |                   
  ...rtsReports.ts |       5 |      100 |       0 |       5 | 53-93             
  usePDV.ts        |   95.23 |    83.33 |     100 |   95.23 | 91-92,121-122     
  ...iceHistory.ts |     100 |      100 |     100 |     100 |                   
  useSales.ts      |    91.2 |    71.62 |   91.89 |    91.2 | ...21-222,322-336 
  ...viceOrders.ts |   57.44 |    95.23 |   61.29 |   57.44 | ...34-535,538-539 
  useSetup.ts      |       0 |        0 |       0 |       0 | 1-32              
  useStock.ts      |   90.81 |      100 |   83.33 |   90.81 | 61-67,149-150     
  useSuppliers.ts  |      92 |      100 |   81.48 |      92 | ...44-145,163-164 
  useVehicles.ts   |   59.62 |    62.16 |     100 |   59.62 | ...54-456,487-488 
  useWarranties.ts |   56.95 |      100 |   54.16 |   56.95 | ...22-423,426-427 
 src/lib           |   51.83 |    80.75 |   45.71 |   51.83 |                   
  analytics.ts     |       0 |      100 |     100 |       0 | 13-86             
  design-tokens.ts |     100 |      100 |     100 |     100 |                   
  formatters.ts    |     100 |    94.82 |     100 |     100 | 117,131,143       
  query-client.tsx |       0 |        0 |       0 |       0 | 1-106             
  sentry.ts        |       0 |      100 |     100 |       0 | 7-50              
  tauri.ts         |    32.4 |    65.85 |   23.07 |    32.4 | ...2-818,824-1055 
  utils.ts         |     100 |      100 |     100 |     100 |                   
  validators.ts    |   90.76 |    80.95 |      80 |   90.76 | 108-113           
  vehicleCache.ts  |   38.82 |    71.42 |   53.57 |   38.82 | ...94-435,444-453 
 src/pages/alerts  |    82.6 |    71.42 |   36.36 |    82.6 |                   
  AlertsPage.tsx   |   82.52 |    71.42 |   36.36 |   82.52 | ...66,178,267-273 
  index.ts         |     100 |      100 |     100 |     100 |                   
 src/pages/auth    |   86.95 |    84.37 |      75 |   86.95 |                   
  LoginPage.tsx    |   87.59 |    87.09 |   85.71 |   87.59 | ...4,84-86,93-102 
  index.ts         |       0 |        0 |       0 |       0 | 1                 
 src/pages/cash    |    96.2 |    86.95 |      80 |    96.2 |                   
  ...ntrolPage.tsx |    96.2 |    86.95 |      80 |    96.2 | ...36-138,148-150 
  index.ts         |     100 |      100 |     100 |     100 |                   
 ...ages/customers |    1.91 |      100 |       0 |    1.91 |                   
  ...omersPage.tsx |    1.28 |      100 |       0 |    1.28 | 32-203            
  index.ts         |     100 |      100 |     100 |     100 |                   
 ...ages/dashboard |   99.45 |    96.29 |    87.5 |   99.45 |                   
  ...boardPage.tsx |     100 |      100 |     100 |     100 |                   
  index.ts         |       0 |        0 |       0 |       0 | 1                 
 ...ages/employees |   89.26 |    64.58 |      75 |   89.26 |                   
  ...oyeesPage.tsx |   89.23 |    64.58 |      75 |   89.23 | ...08-411,564-566 
  index.ts         |     100 |      100 |     100 |     100 |                   
 src/pages/license |   78.57 |    65.71 |     100 |   78.57 |                   
  ...ationPage.tsx |   78.49 |    65.71 |     100 |   78.49 | ...25-230,249-255 
  index.ts         |     100 |      100 |     100 |     100 |                   
 ...ages/motoparts |     100 |      100 |     100 |     100 |                   
  ...rdersPage.tsx |     100 |      100 |     100 |     100 |                   
  ...ntiesPage.tsx |     100 |      100 |     100 |     100 |                   
  index.ts         |     100 |      100 |     100 |     100 |                   
 src/pages/pdv     |   98.46 |    89.09 |   73.68 |   98.46 |                   
  PDVPage.tsx      |   98.71 |    90.74 |   77.77 |   98.71 | 78-79,83-85       
  index.ts         |       0 |        0 |       0 |       0 | 1                 
 ...pages/products |   93.37 |    86.71 |   82.85 |   93.37 |                   
  ...oriesPage.tsx |     100 |    91.83 |    92.3 |     100 | 90,238-245,295    
  ...tFormPage.tsx |   82.99 |    54.16 |      80 |   82.99 | ...69-271,382-387 
  ProductsPage.tsx |     100 |    96.36 |   76.47 |     100 | 115,176           
  index.ts         |     100 |      100 |     100 |     100 |                   
 src/pages/reports |   99.53 |    85.41 |    62.5 |   99.53 |                   
  ReportsPage.tsx  |     100 |      100 |     100 |     100 |                   
  ...eportPage.tsx |   99.26 |       80 |      50 |   99.26 | 139-142           
  index.ts         |     100 |      100 |     100 |     100 |                   
 ...pages/settings |   86.13 |    51.61 |      68 |   86.13 |                   
  SettingsPage.tsx |   86.11 |    51.61 |      68 |   86.11 | ...14,825,903-914 
  index.ts         |     100 |      100 |     100 |     100 |                   
 src/pages/setup   |   90.75 |    37.28 |   86.66 |   90.75 |                   
  ...SetupPage.tsx |   91.01 |    37.93 |   92.85 |   91.01 | ...92,421,444-446 
  index.ts         |       0 |        0 |       0 |       0 | 1                 
 src/pages/stock   |    99.7 |    92.85 |   94.11 |    99.7 |                   
  ...ationPage.tsx |   99.39 |    89.47 |     100 |   99.39 | 165               
  ...EntryPage.tsx |   99.49 |    84.21 |   88.88 |   99.49 | 191               
  ...mentsPage.tsx |     100 |      100 |     100 |     100 |                   
  StockPage.tsx    |     100 |      100 |     100 |     100 |                   
  index.ts         |     100 |      100 |     100 |     100 |                   
 ...ages/suppliers |   96.96 |       80 |   72.72 |   96.96 |                   
  ...liersPage.tsx |   96.96 |       80 |   72.72 |   96.96 | ...03,465,468-471 
  index.ts         |     100 |      100 |     100 |     100 |                   
 ...ages/tutorials |       0 |        0 |       0 |       0 |                   
  index.tsx        |       0 |        0 |       0 |       0 | 1-12              
 src/stores        |   97.22 |    91.53 |   92.85 |   97.22 |                   
  alert-store.ts   |   96.61 |      100 |    90.9 |   96.61 | 64-65             
  auth-store.ts    |   90.81 |    69.23 |      80 |   90.81 | ...47-148,158-161 
  index.ts         |     100 |      100 |     100 |     100 |                   
  license-store.ts |   96.82 |    76.59 |   84.61 |   96.82 | 152-153,155-156   
  pdv-store.ts     |   98.48 |      100 |   95.23 |   98.48 | 176-177           
  ...ings-store.ts |   99.37 |    97.61 |     100 |   99.37 | 206               
  ...essProfile.ts |     100 |      100 |     100 |     100 |                   
-------------------|---------|----------|---------|---------|-------------------
ERROR: Coverage for lines (67.58%) does not meet global threshold (85%)
ERROR: Coverage for functions (71.26%) does not meet global threshold (85%)
ERROR: Coverage for statements (67.58%) does not meet global threshold (85%)
ERROR: Coverage for branches (78.89%) does not meet global threshold (85%)
