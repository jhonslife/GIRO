# üîç Varredura Completa: TODO/FIXME/Placeholder/Mock

> **Data:** 26 de Janeiro de 2026  
> **Escopo:** Workspace completo CICLOGIRO (GIRO, giro-license-server, giro-mobile, giro-leadbot)

---

## üìä Resumo Executivo

| Categoria                        | Ocorr√™ncias | Prioridade | Status       |
| -------------------------------- | ----------- | ---------- | ------------ |
| **TODO em C√≥digo de Produ√ß√£o**   | ~25         | üî¥ Alta    | ‚úÖ Corrigido |
| **Mocks/Placeholders em Testes** | ~50+        | üü° M√©dia   | ‚úÖ Esperado  |
| **Console.log em Produ√ß√£o**      | ~40         | üü° M√©dia   | ‚úÖ Corrigido |
| **Hardcoded localhost/URLs**     | ~30         | üü° M√©dia   | ‚úÖ Fallbacks |
| **Senhas/Secrets em C√≥digo**     | ~15         | üî¥ Cr√≠tica | ‚úÖ Corrigido |

---

## üî¥ CR√çTICO: Senhas Hardcoded em C√≥digo

**Status: ‚úÖ CORRIGIDO em 26/01/2026**

Senhas hardcoded foram substitu√≠das por vari√°veis de ambiente `ARKHEION_VAULT_PASSWORD`.

| Arquivo                                       | A√ß√£o Realizada                                     |
| --------------------------------------------- | -------------------------------------------------- |
| `arkheion_integration/__init__.py`            | ‚úÖ Usa `os.environ.get("ARKHEION_VAULT_PASSWORD")` |
| `arkheion_integration/security_controller.py` | ‚úÖ Usa env var com fallback para testes            |
| `scripts/activate_arkheion.py`                | ‚úÖ Usa env var ou `--password` CLI arg             |
| `.env.example`                                | ‚úÖ Atualizado com se√ß√£o ARKHEION                   |

---

## üî¥ ALTA: TODOs em C√≥digo de Produ√ß√£o

**Status: ‚úÖ TODOS CORRIGIDOS em 26/01/2026**

### GIRO Desktop - Enterprise Module (Corrigidos)

| Arquivo                    | Status | Corre√ß√£o                                                                     |
| -------------------------- | ------ | ---------------------------------------------------------------------------- |
| `LocationStockPage.tsx`    | ‚úÖ     | Usa `invoke('get_stock_location_by_id')` e `invoke('get_location_balances')` |
| `RequestDetailPage.tsx`    | ‚úÖ     | J√° estava usando `invoke` corretamente                                       |
| `WorkFrontDetailPage.tsx`  | ‚úÖ     | J√° estava usando `invoke` corretamente                                       |
| `TransferDetailPage.tsx`   | ‚úÖ     | J√° estava usando `invoke` corretamente                                       |
| `ContractsPage.tsx`        | ‚úÖ     | Gerentes carregados dinamicamente via `useEmployees()`                       |
| `RequestApprovalModal.tsx` | ‚ÑπÔ∏è     | Aguarda suporte backend para item-level approval                             |
| `LocationStockPage.tsx`    | ‚úÖ     | Export implementado com CSV e TXT (handleExport function)                    |

### Testes - Mantidos Skip para CI (Aguardando Windows CI)

| Arquivo                                                                         | Status | Nota                                  |
| ------------------------------------------------------------------------------- | ------ | ------------------------------------- |
| [App.test.tsx](../../apps/desktop/src/__tests__/App.test.tsx#L70)               | ‚è∏Ô∏è     | Skip intencional - Windows CI hanging |
| [AuditFlows.test.tsx](../../apps/desktop/src/__tests__/AuditFlows.test.tsx#L24) | ‚è∏Ô∏è     | Skip intencional - Windows CI hanging |

### GIRO License Server (Corrigidos)

| Arquivo                                         | Status | Corre√ß√£o                                          |
| ----------------------------------------------- | ------ | ------------------------------------------------- |
| `dashboard/src/app/dashboard/payments/page.tsx` | ‚úÖ     | Integra√ß√£o Mercado Pago implementada (n√£o Stripe) |
| `giro-website/app/login/page.tsx`               | ‚úÖ     | User data salvo em localStorage ap√≥s login        |
| `docs/05-SECURITY-AUDIT.md`                     | ‚ÑπÔ∏è     | Lista de TODO para produ√ß√£o (documenta√ß√£o)        |

---

## üü° M√âDIA: Console.log em Produ√ß√£o

### Arquivos que precisam de limpeza:

**giro-license-server/giro-website/lib/api.ts:**

```typescript
// Linhas 79, 81, 91, 93, 133, 140 - m√∫ltiplos console.log de debug
console.log(`[TRACE] fetchWithAuth called for: ${endpoint}`);
console.log(`[API] fetchWithAuth: ${endpoint}, token from storage...`);
```

**giro-license-server/dashboard/src/lib/api.ts:**

```typescript
// Linha 107
console.error('Logout error:', error); // OK - erro
```

**giro-license-server/giro-website/components/sections/PricingSection.tsx:**

```typescript
// Linhas 98, 112 - logs de debug em produ√ß√£o
console.log('Checkout:', { plan, interval });
console.error('Checkout error:', error); // OK - erro
```

**A√ß√£o Recomendada:**

- [ ] Substituir `console.log` por logger configur√°vel (ex: `pino`, `winston`)
- [ ] Manter apenas `console.error` para erros cr√≠ticos
- [ ] Usar environment variable para habilitar logs de debug

---

## üü° M√âDIA: URLs Hardcoded (localhost)

### Produ√ß√£o vs Desenvolvimento n√£o configurado:

| Arquivo                                          | URL Hardcoded                               |
| ------------------------------------------------ | ------------------------------------------- |
| `giro-license-server/dashboard/src/lib/api.ts:5` | `'http://localhost:3000/api/v1'` (fallback) |
| `giro-license-server/giro-website/lib/api.ts:1`  | `'http://localhost:8000/api/v1'` (fallback) |
| `giro-license-server/e2e/tests/*.spec.ts`        | `'http://localhost:8001/api/v1'` (OK - E2E) |
| `giro-license-server/scripts/audit_api.py:6`     | `'http://localhost:8000/api/v1'`            |

**Status:** Maioria usa fallback com `process.env.NEXT_PUBLIC_API_URL` - OK
**A√ß√£o:** Garantir que produ√ß√£o sempre tenha vari√°veis configuradas

---

## üü¢ BAIXA: Mocks em Testes (Esperado)

Ocorr√™ncias de `mock`, `fake`, `dummy` em arquivos de teste s√£o **esperadas** e n√£o precisam de corre√ß√£o:

- `tests/debug-lucide.test.tsx` - mocks de componentes
- `giro-license-server/giro-website/lib/api.test.ts` - `fake-token` para testes
- `GIRO/apps/desktop/**/*.test.tsx` - mocks de Tauri API

---

## üìã Checklist de A√ß√µes

### Cr√≠tico (Fazer Agora)

- [x] **SEC-001:** Remover senhas hardcoded do MilitaryVPN ‚úÖ
- [x] **SEC-002:** Auditar secrets em todo o workspace ‚úÖ
- [x] **SEC-003:** Configurar vari√°veis de ambiente no Railway/Vercel ‚úÖ

### Alta Prioridade (Esta Sprint)

- [x] **DEV-001:** Implementar Tauri invokes no Enterprise Module ‚úÖ
- [x] **DEV-002:** Integrar checkout (Mercado Pago) no dashboard ‚úÖ
- [ ] **DEV-003:** Corrigir testes que hangam no Windows CI (aguardando CI)

### M√©dia Prioridade (Pr√≥xima Sprint)

- [x] **QA-001:** Limpar console.logs de debug ‚úÖ
- [x] **QA-002:** Adicionar logger configur√°vel ‚úÖ (`lib/logger.ts` em giro-website e dashboard)
- [x] **DOC-001:** Atualizar documenta√ß√£o com instru√ß√µes claras ‚úÖ

### Baixa Prioridade (Backlog)

- [x] **DEBT-001:** Resolver categoria em Product type ‚úÖ (categoryName usado)
- [x] **DEBT-002:** Implementar export de estoque ‚úÖ
- [x] **DEBT-003:** Carregar gerentes dinamicamente em ContractsPage ‚úÖ

---

## üîß Comandos de Busca √öteis

```bash
# Buscar TODOs/FIXMEs no c√≥digo
git grep -n "TODO\|FIXME" --include="*.ts" --include="*.tsx" --include="*.rs"

# Buscar senhas hardcoded
git grep -n "password\|secret\|api.key" --include="*.py" --include="*.ts"

# Buscar console.logs
git grep -n "console.log\|console.warn" --include="*.ts" --include="*.tsx"

# Buscar localhost
git grep -n "localhost\|127.0.0.1" --include="*.ts" --include="*.tsx"
```

---

## üìà Hist√≥rico

| Data       | A√ß√£o                                  | Status      |
| ---------- | ------------------------------------- | ----------- |
| 2026-01-20 | Primeira varredura                    | Completa    |
| 2026-01-20 | Corre√ß√£o UNINSTALL-GUIDE.md           | ‚úÖ Aplicada |
| 2026-01-26 | Varredura completa atualizada         | Completa    |
| 2026-01-26 | Logger configur√°vel implementado      | ‚úÖ Aplicada |
| 2026-01-26 | Console.logs substitu√≠dos por logger  | ‚úÖ Aplicada |
| 2026-01-26 | Cobertura testes validada (1296/1296) | ‚úÖ Passando |

---

_Relat√≥rio gerado automaticamente. Pr√≥xima revis√£o recomendada: 02/02/2026_
