{
  "db_name": "PostgreSQL",
  "query": "\n            SELECT\n                COALESCE(SUM(m.sales_total)::float8, 0.0) as \"total_sales!\",\n                COALESCE(SUM(m.sales_count), 0)::bigint as \"total_transactions!\",\n                CASE \n                    WHEN SUM(m.sales_count) > 0 \n                    THEN (SUM(m.sales_total) / SUM(m.sales_count))::float8\n                    ELSE 0.0\n                END as \"average_ticket!\"\n            FROM metrics m\n            INNER JOIN licenses l ON l.id = m.license_id\n            WHERE l.admin_id = $1\n            AND m.date BETWEEN $2 AND $3\n            ",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "total_sales!",
        "type_info": "Float8"
      },
      {
        "ordinal": 1,
        "name": "total_transactions!",
        "type_info": "Int8"
      },
      {
        "ordinal": 2,
        "name": "average_ticket!",
        "type_info": "Float8"
      }
    ],
    "parameters": {
      "Left": [
        "Uuid",
        "Date",
        "Date"
      ]
    },
    "nullable": [
      null,
      null,
      null
    ]
  },
  "hash": "6a13f62d43f6b77b508c89d02ef020b9ae83002fbba1fa61bd09572f37739328"
}
